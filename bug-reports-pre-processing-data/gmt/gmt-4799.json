{
    "active_lock_reason": null,
    "assignee": null,
    "assignees": [],
    "author_association": "MEMBER",
    "body": "When it calls ``gmtsupport_free_range()`` the line\r\n```\r\ngmt_M_str_free (S->label);\r\n```\r\ncrash if ``S->label`` points into a memory hold by an external. Curiously, there is no equivalent free for ``S->key`` so Categorical CPTs can be set from externals as long as they don't set the \"label\" too.",
    "closed_at": "2021-02-13T02:19:43Z",
    "closed_by": {
        "avatar_url": "https://avatars.githubusercontent.com/u/26473567?v=4",
        "events_url": "https://api.github.com/users/PaulWessel/events{/privacy}",
        "followers_url": "https://api.github.com/users/PaulWessel/followers",
        "following_url": "https://api.github.com/users/PaulWessel/following{/other_user}",
        "gists_url": "https://api.github.com/users/PaulWessel/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/PaulWessel",
        "id": 26473567,
        "login": "PaulWessel",
        "node_id": "MDQ6VXNlcjI2NDczNTY3",
        "organizations_url": "https://api.github.com/users/PaulWessel/orgs",
        "received_events_url": "https://api.github.com/users/PaulWessel/received_events",
        "repos_url": "https://api.github.com/users/PaulWessel/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/PaulWessel/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/PaulWessel/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/PaulWessel"
    },
    "comments": 18,
    "comments_content": [
        {
            "author_association": "MEMBER",
            "body": "Could you put this in context.  You are creating a CPT in Julia and passing it via -C or similar?  Who owns the GMT_PALLETE structure?",
            "created_at": "2021-02-12T17:46:12Z",
            "html_url": "https://github.com/GenericMappingTools/gmt/issues/4799#issuecomment-778342320",
            "id": 778342320,
            "issue_url": "https://api.github.com/repos/GenericMappingTools/gmt/issues/4799",
            "node_id": "MDEyOklzc3VlQ29tbWVudDc3ODM0MjMyMA==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/GenericMappingTools/gmt/issues/comments/778342320/reactions"
            },
            "updated_at": "2021-02-12T17:46:12Z",
            "url": "https://api.github.com/repos/GenericMappingTools/gmt/issues/comments/778342320",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/26473567?v=4",
                "events_url": "https://api.github.com/users/PaulWessel/events{/privacy}",
                "followers_url": "https://api.github.com/users/PaulWessel/followers",
                "following_url": "https://api.github.com/users/PaulWessel/following{/other_user}",
                "gists_url": "https://api.github.com/users/PaulWessel/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/PaulWessel",
                "id": 26473567,
                "login": "PaulWessel",
                "node_id": "MDQ6VXNlcjI2NDczNTY3",
                "organizations_url": "https://api.github.com/users/PaulWessel/orgs",
                "received_events_url": "https://api.github.com/users/PaulWessel/received_events",
                "repos_url": "https://api.github.com/users/PaulWessel/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/PaulWessel/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/PaulWessel/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/PaulWessel"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "Yes, from Julia but see ``gmtmex_palette_init()``. We are are not setting the *key* and *label* there. If we were, we would have a Matlab owned memory string and the crash would occur when GMT tried to free that memory.\r\nIn Matlab, since we are dealing with C only we could do some strdup and pass a GMT owned memory but from Julia I don't see how to do the same trick, so memory passed in is owned by Julia.",
            "created_at": "2021-02-12T17:55:14Z",
            "html_url": "https://github.com/GenericMappingTools/gmt/issues/4799#issuecomment-778346932",
            "id": 778346932,
            "issue_url": "https://api.github.com/repos/GenericMappingTools/gmt/issues/4799",
            "node_id": "MDEyOklzc3VlQ29tbWVudDc3ODM0NjkzMg==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/GenericMappingTools/gmt/issues/comments/778346932/reactions"
            },
            "updated_at": "2021-02-12T17:55:14Z",
            "url": "https://api.github.com/repos/GenericMappingTools/gmt/issues/comments/778346932",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/537321?v=4",
                "events_url": "https://api.github.com/users/joa-quim/events{/privacy}",
                "followers_url": "https://api.github.com/users/joa-quim/followers",
                "following_url": "https://api.github.com/users/joa-quim/following{/other_user}",
                "gists_url": "https://api.github.com/users/joa-quim/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/joa-quim",
                "id": 537321,
                "login": "joa-quim",
                "node_id": "MDQ6VXNlcjUzNzMyMQ==",
                "organizations_url": "https://api.github.com/users/joa-quim/orgs",
                "received_events_url": "https://api.github.com/users/joa-quim/received_events",
                "repos_url": "https://api.github.com/users/joa-quim/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/joa-quim/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/joa-quim/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/joa-quim"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "If you are creating the CPT via GMT_Create_Data in Julia then it should have a flag that we can use to not free stuff in GMT.  That is how we dont free other things passed in like matrices and tables.  Help me understand.  You use GMT_Create_Data then do a virtualfile open on it and pass that string via -C?\r\n",
            "created_at": "2021-02-12T18:06:52Z",
            "html_url": "https://github.com/GenericMappingTools/gmt/issues/4799#issuecomment-778353088",
            "id": 778353088,
            "issue_url": "https://api.github.com/repos/GenericMappingTools/gmt/issues/4799",
            "node_id": "MDEyOklzc3VlQ29tbWVudDc3ODM1MzA4OA==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/GenericMappingTools/gmt/issues/comments/778353088/reactions"
            },
            "updated_at": "2021-02-12T18:06:52Z",
            "url": "https://api.github.com/repos/GenericMappingTools/gmt/issues/comments/778353088",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/26473567?v=4",
                "events_url": "https://api.github.com/users/PaulWessel/events{/privacy}",
                "followers_url": "https://api.github.com/users/PaulWessel/followers",
                "following_url": "https://api.github.com/users/PaulWessel/following{/other_user}",
                "gists_url": "https://api.github.com/users/PaulWessel/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/PaulWessel",
                "id": 26473567,
                "login": "PaulWessel",
                "node_id": "MDQ6VXNlcjI2NDczNTY3",
                "organizations_url": "https://api.github.com/users/PaulWessel/orgs",
                "received_events_url": "https://api.github.com/users/PaulWessel/received_events",
                "repos_url": "https://api.github.com/users/PaulWessel/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/PaulWessel/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/PaulWessel/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/PaulWessel"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "Let me commit (and wait for tests to run) what I have to show how it works.",
            "created_at": "2021-02-12T18:18:24Z",
            "html_url": "https://github.com/GenericMappingTools/gmt/issues/4799#issuecomment-778359666",
            "id": 778359666,
            "issue_url": "https://api.github.com/repos/GenericMappingTools/gmt/issues/4799",
            "node_id": "MDEyOklzc3VlQ29tbWVudDc3ODM1OTY2Ng==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/GenericMappingTools/gmt/issues/comments/778359666/reactions"
            },
            "updated_at": "2021-02-12T18:18:24Z",
            "url": "https://api.github.com/repos/GenericMappingTools/gmt/issues/comments/778359666",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/537321?v=4",
                "events_url": "https://api.github.com/users/joa-quim/events{/privacy}",
                "followers_url": "https://api.github.com/users/joa-quim/followers",
                "following_url": "https://api.github.com/users/joa-quim/following{/other_user}",
                "gists_url": "https://api.github.com/users/joa-quim/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/joa-quim",
                "id": 537321,
                "login": "joa-quim",
                "node_id": "MDQ6VXNlcjUzNzMyMQ==",
                "organizations_url": "https://api.github.com/users/joa-quim/orgs",
                "received_events_url": "https://api.github.com/users/joa-quim/received_events",
                "repos_url": "https://api.github.com/users/joa-quim/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/joa-quim/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/joa-quim/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/joa-quim"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "OK, see function https://github.com/GenericMappingTools/GMT.jl/blob/master/src/gmt_main.jl#L1049\r\nRead it as a mix of C and Matlab. At line https://github.com/GenericMappingTools/GMT.jl/blob/master/src/gmt_main.jl#L1101\r\nI create a ``GMT_LUT`` structure in Julia and pass it as a pointer to the ``P``, struct created and owned by GMT.\r\nThe issue is that I must fill the *key* and *label* fields of this structure and what I have is only Julia owned strings (that are converted to pointers) and passed to GMT.\r\n\r\nShit this is getting complicated. I do have access to P.data (the line that read ``glut = unsafe_load(Pb.data, j)``) but GMT could not have allocate the memory to hold the *key* and *label* so I cannot fill that memory but have instead to pass in a fully filled ``GMT_LUT`` struct ... and that's when  shit happens upon memory freeing.",
            "created_at": "2021-02-12T19:02:21Z",
            "html_url": "https://github.com/GenericMappingTools/gmt/issues/4799#issuecomment-778388338",
            "id": 778388338,
            "issue_url": "https://api.github.com/repos/GenericMappingTools/gmt/issues/4799",
            "node_id": "MDEyOklzc3VlQ29tbWVudDc3ODM4ODMzOA==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/GenericMappingTools/gmt/issues/comments/778388338/reactions"
            },
            "updated_at": "2021-02-12T19:02:21Z",
            "url": "https://api.github.com/repos/GenericMappingTools/gmt/issues/comments/778388338",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/537321?v=4",
                "events_url": "https://api.github.com/users/joa-quim/events{/privacy}",
                "followers_url": "https://api.github.com/users/joa-quim/followers",
                "following_url": "https://api.github.com/users/joa-quim/following{/other_user}",
                "gists_url": "https://api.github.com/users/joa-quim/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/joa-quim",
                "id": 537321,
                "login": "joa-quim",
                "node_id": "MDQ6VXNlcjUzNzMyMQ==",
                "organizations_url": "https://api.github.com/users/joa-quim/orgs",
                "received_events_url": "https://api.github.com/users/joa-quim/received_events",
                "repos_url": "https://api.github.com/users/joa-quim/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/joa-quim/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/joa-quim/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/joa-quim"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "Seems like the underlying problem is for externals to set the key and label strings in a palette.  Perhaps we need to add a new API to allow that to happen so that GMT can properly own things.  At the most abstract, maybe allow\r\n\r\n`int GMT_Put_Strings (void *V_API, unsigned int family, void *object, char **array);\r\n`\r\n\r\nto accept family as **GMT_IS_PALETTE** and use (new) bitflags **GMT_IS_KEY** or **GMT_IS_LABEL** to tell what the array should be used for.  This would mean you pass an array of character strings, one for each LUT entry, so that GMT_Put_Strings can duplicate these strings.\r\n\r\nIf you need to do this one by one then we could make something like \r\n\r\n```\r\nGMT_Put_Key (API, P, index, string)\r\nGMT_Put_Label (API, P, index, string)\r\n```\r\n\r\nbut I would prefer the first solution.",
            "created_at": "2021-02-12T19:19:35Z",
            "html_url": "https://github.com/GenericMappingTools/gmt/issues/4799#issuecomment-778400027",
            "id": 778400027,
            "issue_url": "https://api.github.com/repos/GenericMappingTools/gmt/issues/4799",
            "node_id": "MDEyOklzc3VlQ29tbWVudDc3ODQwMDAyNw==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/GenericMappingTools/gmt/issues/comments/778400027/reactions"
            },
            "updated_at": "2021-02-12T19:19:35Z",
            "url": "https://api.github.com/repos/GenericMappingTools/gmt/issues/comments/778400027",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/26473567?v=4",
                "events_url": "https://api.github.com/users/PaulWessel/events{/privacy}",
                "followers_url": "https://api.github.com/users/PaulWessel/followers",
                "following_url": "https://api.github.com/users/PaulWessel/following{/other_user}",
                "gists_url": "https://api.github.com/users/PaulWessel/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/PaulWessel",
                "id": 26473567,
                "login": "PaulWessel",
                "node_id": "MDQ6VXNlcjI2NDczNTY3",
                "organizations_url": "https://api.github.com/users/PaulWessel/orgs",
                "received_events_url": "https://api.github.com/users/PaulWessel/received_events",
                "repos_url": "https://api.github.com/users/PaulWessel/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/PaulWessel/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/PaulWessel/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/PaulWessel"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "First option seems cleaner (though I have the impression it will give me more work figuring out how to use it from Julia) but how would we use it? Like this?\r\n\r\n```\r\nGMT_Put_Strings (GMT->parent, GMT_IS_PALETTE | GMT_IS_KEY, P, keys);\r\nGMT_Put_Strings (GMT->parent, GMT_IS_PALETTE | GMT_IS_LABEL, P, labels);\r\n```",
            "created_at": "2021-02-12T19:46:45Z",
            "html_url": "https://github.com/GenericMappingTools/gmt/issues/4799#issuecomment-778414252",
            "id": 778414252,
            "issue_url": "https://api.github.com/repos/GenericMappingTools/gmt/issues/4799",
            "node_id": "MDEyOklzc3VlQ29tbWVudDc3ODQxNDI1Mg==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/GenericMappingTools/gmt/issues/comments/778414252/reactions"
            },
            "updated_at": "2021-02-12T19:46:45Z",
            "url": "https://api.github.com/repos/GenericMappingTools/gmt/issues/comments/778414252",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/537321?v=4",
                "events_url": "https://api.github.com/users/joa-quim/events{/privacy}",
                "followers_url": "https://api.github.com/users/joa-quim/followers",
                "following_url": "https://api.github.com/users/joa-quim/following{/other_user}",
                "gists_url": "https://api.github.com/users/joa-quim/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/joa-quim",
                "id": 537321,
                "login": "joa-quim",
                "node_id": "MDQ6VXNlcjUzNzMyMQ==",
                "organizations_url": "https://api.github.com/users/joa-quim/orgs",
                "received_events_url": "https://api.github.com/users/joa-quim/received_events",
                "repos_url": "https://api.github.com/users/joa-quim/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/joa-quim/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/joa-quim/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/joa-quim"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "Yes, exactly.  And I would loop over the color LUTs and for each check if array[index] == NULL else strdup.",
            "created_at": "2021-02-12T20:01:04Z",
            "html_url": "https://github.com/GenericMappingTools/gmt/issues/4799#issuecomment-778422150",
            "id": 778422150,
            "issue_url": "https://api.github.com/repos/GenericMappingTools/gmt/issues/4799",
            "node_id": "MDEyOklzc3VlQ29tbWVudDc3ODQyMjE1MA==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/GenericMappingTools/gmt/issues/comments/778422150/reactions"
            },
            "updated_at": "2021-02-12T20:01:04Z",
            "url": "https://api.github.com/repos/GenericMappingTools/gmt/issues/comments/778422150",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/26473567?v=4",
                "events_url": "https://api.github.com/users/PaulWessel/events{/privacy}",
                "followers_url": "https://api.github.com/users/PaulWessel/followers",
                "following_url": "https://api.github.com/users/PaulWessel/following{/other_user}",
                "gists_url": "https://api.github.com/users/PaulWessel/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/PaulWessel",
                "id": 26473567,
                "login": "PaulWessel",
                "node_id": "MDQ6VXNlcjI2NDczNTY3",
                "organizations_url": "https://api.github.com/users/PaulWessel/orgs",
                "received_events_url": "https://api.github.com/users/PaulWessel/received_events",
                "repos_url": "https://api.github.com/users/PaulWessel/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/PaulWessel/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/PaulWessel/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/PaulWessel"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "OK then.",
            "created_at": "2021-02-12T20:03:02Z",
            "html_url": "https://github.com/GenericMappingTools/gmt/issues/4799#issuecomment-778423220",
            "id": 778423220,
            "issue_url": "https://api.github.com/repos/GenericMappingTools/gmt/issues/4799",
            "node_id": "MDEyOklzc3VlQ29tbWVudDc3ODQyMzIyMA==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/GenericMappingTools/gmt/issues/comments/778423220/reactions"
            },
            "updated_at": "2021-02-12T20:03:02Z",
            "url": "https://api.github.com/repos/GenericMappingTools/gmt/issues/comments/778423220",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/537321?v=4",
                "events_url": "https://api.github.com/users/joa-quim/events{/privacy}",
                "followers_url": "https://api.github.com/users/joa-quim/followers",
                "following_url": "https://api.github.com/users/joa-quim/following{/other_user}",
                "gists_url": "https://api.github.com/users/joa-quim/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/joa-quim",
                "id": 537321,
                "login": "joa-quim",
                "node_id": "MDQ6VXNlcjUzNzMyMQ==",
                "organizations_url": "https://api.github.com/users/joa-quim/orgs",
                "received_events_url": "https://api.github.com/users/joa-quim/received_events",
                "repos_url": "https://api.github.com/users/joa-quim/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/joa-quim/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/joa-quim/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/joa-quim"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "Have a look at the new PR and I think you should be able to do \r\n\r\n```\r\nGMT_Put_Strings (GMT->parent, GMT_IS_PALETTE | GMT_IS_PALETTE_KEY, P, keys);\r\nGMT_Put_Strings (GMT->parent, GMT_IS_PALETTE | GMT_IS_PALETTE_LABEL, P, labels);\r\n```\r\n\r\nand no freeing will take place unless you also pass **GMT_IS_DUPLICATE** (then GMT makes its copies so it is allowed to free).",
            "created_at": "2021-02-12T21:24:35Z",
            "html_url": "https://github.com/GenericMappingTools/gmt/issues/4799#issuecomment-778463236",
            "id": 778463236,
            "issue_url": "https://api.github.com/repos/GenericMappingTools/gmt/issues/4799",
            "node_id": "MDEyOklzc3VlQ29tbWVudDc3ODQ2MzIzNg==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/GenericMappingTools/gmt/issues/comments/778463236/reactions"
            },
            "updated_at": "2021-02-12T21:24:35Z",
            "url": "https://api.github.com/repos/GenericMappingTools/gmt/issues/comments/778463236",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/26473567?v=4",
                "events_url": "https://api.github.com/users/PaulWessel/events{/privacy}",
                "followers_url": "https://api.github.com/users/PaulWessel/followers",
                "following_url": "https://api.github.com/users/PaulWessel/following{/other_user}",
                "gists_url": "https://api.github.com/users/PaulWessel/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/PaulWessel",
                "id": 26473567,
                "login": "PaulWessel",
                "node_id": "MDQ6VXNlcjI2NDczNTY3",
                "organizations_url": "https://api.github.com/users/PaulWessel/orgs",
                "received_events_url": "https://api.github.com/users/PaulWessel/received_events",
                "repos_url": "https://api.github.com/users/PaulWessel/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/PaulWessel/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/PaulWessel/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/PaulWessel"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "Ok, I'll start looking into this but you say in that PR that\r\n>Note: GMT_Get_Strings does not yet accept GMT_IS_PALETTE since ...",
            "created_at": "2021-02-12T23:11:16Z",
            "html_url": "https://github.com/GenericMappingTools/gmt/issues/4799#issuecomment-778505747",
            "id": 778505747,
            "issue_url": "https://api.github.com/repos/GenericMappingTools/gmt/issues/4799",
            "node_id": "MDEyOklzc3VlQ29tbWVudDc3ODUwNTc0Nw==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/GenericMappingTools/gmt/issues/comments/778505747/reactions"
            },
            "updated_at": "2021-02-12T23:11:16Z",
            "url": "https://api.github.com/repos/GenericMappingTools/gmt/issues/comments/778505747",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/537321?v=4",
                "events_url": "https://api.github.com/users/joa-quim/events{/privacy}",
                "followers_url": "https://api.github.com/users/joa-quim/followers",
                "following_url": "https://api.github.com/users/joa-quim/following{/other_user}",
                "gists_url": "https://api.github.com/users/joa-quim/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/joa-quim",
                "id": 537321,
                "login": "joa-quim",
                "node_id": "MDQ6VXNlcjUzNzMyMQ==",
                "organizations_url": "https://api.github.com/users/joa-quim/orgs",
                "received_events_url": "https://api.github.com/users/joa-quim/received_events",
                "repos_url": "https://api.github.com/users/joa-quim/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/joa-quim/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/joa-quim/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/joa-quim"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "Do you need it though? I only did GMT_Put_Strings.",
            "created_at": "2021-02-12T23:49:41Z",
            "html_url": "https://github.com/GenericMappingTools/gmt/issues/4799#issuecomment-778517185",
            "id": 778517185,
            "issue_url": "https://api.github.com/repos/GenericMappingTools/gmt/issues/4799",
            "node_id": "MDEyOklzc3VlQ29tbWVudDc3ODUxNzE4NQ==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/GenericMappingTools/gmt/issues/comments/778517185/reactions"
            },
            "updated_at": "2021-02-12T23:49:41Z",
            "url": "https://api.github.com/repos/GenericMappingTools/gmt/issues/comments/778517185",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/26473567?v=4",
                "events_url": "https://api.github.com/users/PaulWessel/events{/privacy}",
                "followers_url": "https://api.github.com/users/PaulWessel/followers",
                "following_url": "https://api.github.com/users/PaulWessel/following{/other_user}",
                "gists_url": "https://api.github.com/users/PaulWessel/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/PaulWessel",
                "id": 26473567,
                "login": "PaulWessel",
                "node_id": "MDQ6VXNlcjI2NDczNTY3",
                "organizations_url": "https://api.github.com/users/PaulWessel/orgs",
                "received_events_url": "https://api.github.com/users/PaulWessel/received_events",
                "repos_url": "https://api.github.com/users/PaulWessel/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/PaulWessel/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/PaulWessel/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/PaulWessel"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "_GMT_Get_Strings_ would only be useful if you need to get the key or label items back into an array in Julia for some reason, and I guess we would then allocate that array and the strings just with malloc and not GMT_memory and GMT would forget about it.  But I assume you actually though my comment was about _GMT_Put_Strings_?",
            "created_at": "2021-02-13T00:13:33Z",
            "html_url": "https://github.com/GenericMappingTools/gmt/issues/4799#issuecomment-778523797",
            "id": 778523797,
            "issue_url": "https://api.github.com/repos/GenericMappingTools/gmt/issues/4799",
            "node_id": "MDEyOklzc3VlQ29tbWVudDc3ODUyMzc5Nw==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/GenericMappingTools/gmt/issues/comments/778523797/reactions"
            },
            "updated_at": "2021-02-13T00:13:33Z",
            "url": "https://api.github.com/repos/GenericMappingTools/gmt/issues/comments/778523797",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/26473567?v=4",
                "events_url": "https://api.github.com/users/PaulWessel/events{/privacy}",
                "followers_url": "https://api.github.com/users/PaulWessel/followers",
                "following_url": "https://api.github.com/users/PaulWessel/following{/other_user}",
                "gists_url": "https://api.github.com/users/PaulWessel/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/PaulWessel",
                "id": 26473567,
                "login": "PaulWessel",
                "node_id": "MDQ6VXNlcjI2NDczNTY3",
                "organizations_url": "https://api.github.com/users/PaulWessel/orgs",
                "received_events_url": "https://api.github.com/users/PaulWessel/received_events",
                "repos_url": "https://api.github.com/users/PaulWessel/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/PaulWessel/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/PaulWessel/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/PaulWessel"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "Yes, sorry I was thinking in ``GMT_Put_Strings``. \r\nI must now find again how to send in **chars and deal with all those Julia types to C pointers conversion. Not fun.",
            "created_at": "2021-02-13T00:23:49Z",
            "html_url": "https://github.com/GenericMappingTools/gmt/issues/4799#issuecomment-778526454",
            "id": 778526454,
            "issue_url": "https://api.github.com/repos/GenericMappingTools/gmt/issues/4799",
            "node_id": "MDEyOklzc3VlQ29tbWVudDc3ODUyNjQ1NA==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/GenericMappingTools/gmt/issues/comments/778526454/reactions"
            },
            "updated_at": "2021-02-13T00:23:49Z",
            "url": "https://api.github.com/repos/GenericMappingTools/gmt/issues/comments/778526454",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/537321?v=4",
                "events_url": "https://api.github.com/users/joa-quim/events{/privacy}",
                "followers_url": "https://api.github.com/users/joa-quim/followers",
                "following_url": "https://api.github.com/users/joa-quim/following{/other_user}",
                "gists_url": "https://api.github.com/users/joa-quim/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/joa-quim",
                "id": 537321,
                "login": "joa-quim",
                "node_id": "MDQ6VXNlcjUzNzMyMQ==",
                "organizations_url": "https://api.github.com/users/joa-quim/orgs",
                "received_events_url": "https://api.github.com/users/joa-quim/received_events",
                "repos_url": "https://api.github.com/users/joa-quim/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/joa-quim/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/joa-quim/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/joa-quim"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "Ok, I have it working now, so good to go. But this all started when I found that it was freeing the *label* array, but it does not free the *key* array, so it must be leaking.",
            "created_at": "2021-02-13T01:52:00Z",
            "html_url": "https://github.com/GenericMappingTools/gmt/issues/4799#issuecomment-778543017",
            "id": 778543017,
            "issue_url": "https://api.github.com/repos/GenericMappingTools/gmt/issues/4799",
            "node_id": "MDEyOklzc3VlQ29tbWVudDc3ODU0MzAxNw==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/GenericMappingTools/gmt/issues/comments/778543017/reactions"
            },
            "updated_at": "2021-02-13T01:52:00Z",
            "url": "https://api.github.com/repos/GenericMappingTools/gmt/issues/comments/778543017",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/537321?v=4",
                "events_url": "https://api.github.com/users/joa-quim/events{/privacy}",
                "followers_url": "https://api.github.com/users/joa-quim/followers",
                "following_url": "https://api.github.com/users/joa-quim/following{/other_user}",
                "gists_url": "https://api.github.com/users/joa-quim/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/joa-quim",
                "id": 537321,
                "login": "joa-quim",
                "node_id": "MDQ6VXNlcjUzNzMyMQ==",
                "organizations_url": "https://api.github.com/users/joa-quim/orgs",
                "received_events_url": "https://api.github.com/users/joa-quim/received_events",
                "repos_url": "https://api.github.com/users/joa-quim/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/joa-quim/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/joa-quim/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/joa-quim"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "Are you sure? I updated the _gmtsupport_free_range_  function to free both:\r\n\r\n```\r\nGMT_LOCAL void gmtsupport_free_range  (struct GMT_CTRL *GMT, struct GMT_PALETTE_HIDDEN *H, struct GMT_LUT *S) {\r\n\tif (H->alloc_mode_text[GMT_CPT_INDEX_LBL]) gmt_M_str_free (S->label);\r\n\tif (H->alloc_mode_text[GMT_CPT_INDEX_KEY]) gmt_M_str_free (S->key);\r\n\tgmt_M_free (GMT, S->fill);\r\n}\r\n```\r\n",
            "created_at": "2021-02-13T01:59:21Z",
            "html_url": "https://github.com/GenericMappingTools/gmt/issues/4799#issuecomment-778544178",
            "id": 778544178,
            "issue_url": "https://api.github.com/repos/GenericMappingTools/gmt/issues/4799",
            "node_id": "MDEyOklzc3VlQ29tbWVudDc3ODU0NDE3OA==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/GenericMappingTools/gmt/issues/comments/778544178/reactions"
            },
            "updated_at": "2021-02-13T01:59:21Z",
            "url": "https://api.github.com/repos/GenericMappingTools/gmt/issues/comments/778544178",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/26473567?v=4",
                "events_url": "https://api.github.com/users/PaulWessel/events{/privacy}",
                "followers_url": "https://api.github.com/users/PaulWessel/followers",
                "following_url": "https://api.github.com/users/PaulWessel/following{/other_user}",
                "gists_url": "https://api.github.com/users/PaulWessel/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/PaulWessel",
                "id": 26473567,
                "login": "PaulWessel",
                "node_id": "MDQ6VXNlcjI2NDczNTY3",
                "organizations_url": "https://api.github.com/users/PaulWessel/orgs",
                "received_events_url": "https://api.github.com/users/PaulWessel/received_events",
                "repos_url": "https://api.github.com/users/PaulWessel/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/PaulWessel/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/PaulWessel/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/PaulWessel"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "Ah, sorry. Had missed that.",
            "created_at": "2021-02-13T02:04:15Z",
            "html_url": "https://github.com/GenericMappingTools/gmt/issues/4799#issuecomment-778544960",
            "id": 778544960,
            "issue_url": "https://api.github.com/repos/GenericMappingTools/gmt/issues/4799",
            "node_id": "MDEyOklzc3VlQ29tbWVudDc3ODU0NDk2MA==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/GenericMappingTools/gmt/issues/comments/778544960/reactions"
            },
            "updated_at": "2021-02-13T02:04:15Z",
            "url": "https://api.github.com/repos/GenericMappingTools/gmt/issues/comments/778544960",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/537321?v=4",
                "events_url": "https://api.github.com/users/joa-quim/events{/privacy}",
                "followers_url": "https://api.github.com/users/joa-quim/followers",
                "following_url": "https://api.github.com/users/joa-quim/following{/other_user}",
                "gists_url": "https://api.github.com/users/joa-quim/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/joa-quim",
                "id": 537321,
                "login": "joa-quim",
                "node_id": "MDQ6VXNlcjUzNzMyMQ==",
                "organizations_url": "https://api.github.com/users/joa-quim/orgs",
                "received_events_url": "https://api.github.com/users/joa-quim/received_events",
                "repos_url": "https://api.github.com/users/joa-quim/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/joa-quim/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/joa-quim/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/joa-quim"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "Closing now that #4801 has been merged.",
            "created_at": "2021-02-13T02:19:43Z",
            "html_url": "https://github.com/GenericMappingTools/gmt/issues/4799#issuecomment-778547145",
            "id": 778547145,
            "issue_url": "https://api.github.com/repos/GenericMappingTools/gmt/issues/4799",
            "node_id": "MDEyOklzc3VlQ29tbWVudDc3ODU0NzE0NQ==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/GenericMappingTools/gmt/issues/comments/778547145/reactions"
            },
            "updated_at": "2021-02-13T02:19:43Z",
            "url": "https://api.github.com/repos/GenericMappingTools/gmt/issues/comments/778547145",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/26473567?v=4",
                "events_url": "https://api.github.com/users/PaulWessel/events{/privacy}",
                "followers_url": "https://api.github.com/users/PaulWessel/followers",
                "following_url": "https://api.github.com/users/PaulWessel/following{/other_user}",
                "gists_url": "https://api.github.com/users/PaulWessel/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/PaulWessel",
                "id": 26473567,
                "login": "PaulWessel",
                "node_id": "MDQ6VXNlcjI2NDczNTY3",
                "organizations_url": "https://api.github.com/users/PaulWessel/orgs",
                "received_events_url": "https://api.github.com/users/PaulWessel/received_events",
                "repos_url": "https://api.github.com/users/PaulWessel/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/PaulWessel/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/PaulWessel/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/PaulWessel"
            }
        }
    ],
    "comments_url": "https://api.github.com/repos/GenericMappingTools/gmt/issues/4799/comments",
    "created_at": "2021-02-12T17:03:19Z",
    "events_url": "https://api.github.com/repos/GenericMappingTools/gmt/issues/4799/events",
    "html_url": "https://github.com/GenericMappingTools/gmt/issues/4799",
    "id": 807392817,
    "labels": [
        {
            "color": "d73a4a",
            "default": true,
            "description": "Something isn't working",
            "id": 1022239695,
            "name": "bug",
            "node_id": "MDU6TGFiZWwxMDIyMjM5Njk1",
            "url": "https://api.github.com/repos/GenericMappingTools/gmt/labels/bug"
        }
    ],
    "labels_url": "https://api.github.com/repos/GenericMappingTools/gmt/issues/4799/labels{/name}",
    "locked": false,
    "milestone": null,
    "node_id": "MDU6SXNzdWU4MDczOTI4MTc=",
    "number": 4799,
    "performed_via_github_app": null,
    "reactions": {
        "+1": 0,
        "-1": 0,
        "confused": 0,
        "eyes": 0,
        "heart": 0,
        "hooray": 0,
        "laugh": 0,
        "rocket": 0,
        "total_count": 0,
        "url": "https://api.github.com/repos/GenericMappingTools/gmt/issues/4799/reactions"
    },
    "repository_url": "https://api.github.com/repos/GenericMappingTools/gmt",
    "state": "closed",
    "state_reason": "completed",
    "timeline_url": "https://api.github.com/repos/GenericMappingTools/gmt/issues/4799/timeline",
    "title": "gmtlib_free_cpt_ptr() may crash from externals",
    "updated_at": "2021-02-13T02:19:43Z",
    "url": "https://api.github.com/repos/GenericMappingTools/gmt/issues/4799",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/537321?v=4",
        "events_url": "https://api.github.com/users/joa-quim/events{/privacy}",
        "followers_url": "https://api.github.com/users/joa-quim/followers",
        "following_url": "https://api.github.com/users/joa-quim/following{/other_user}",
        "gists_url": "https://api.github.com/users/joa-quim/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/joa-quim",
        "id": 537321,
        "login": "joa-quim",
        "node_id": "MDQ6VXNlcjUzNzMyMQ==",
        "organizations_url": "https://api.github.com/users/joa-quim/orgs",
        "received_events_url": "https://api.github.com/users/joa-quim/received_events",
        "repos_url": "https://api.github.com/users/joa-quim/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/joa-quim/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/joa-quim/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/joa-quim"
    }
}