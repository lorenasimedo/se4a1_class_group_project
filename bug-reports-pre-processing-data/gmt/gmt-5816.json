{
    "active_lock_reason": null,
    "assignee": null,
    "assignees": [],
    "author_association": "MEMBER",
    "body": "Paging @joa-quim on this one: Now that **grdcut** can return a subset of an image (your typical 1, 3, or 4 band byte data) the issue becomes can **grdcut** also do the same for more general \"images\" where there are numerous bands and they are stored as floats. GDAL has a solution for this, e.g., \r\n\r\n`gdal_translate -projwin -163.051107059 61.219982021 -163.047286129 61.217258591 -of GTiff sentinel_mosaic.tif sentinel_mosaic_clipped.tif`\r\n\r\nwhere the sentinel file has 16 double-precision bands, but it is unaware of periodic boundary conditions.  Perhaps there are no large global \"images\" like this we need to worry about, but if there are it would be nice for GMT to handle that since it now can do periodic boundaries for images. Alternatively, we could implement a call to _gdal_translate_, like we do in gmt_remote.c to convert JP2 files to netCDF.  A limitation would be passing the image around in memory.\r\n\r\nThere seem to be some unimplemented situations in gmt_gdalread|write.c that would need some updates for that to work.  So far these are:\r\n\r\n1. When a float image is encountered, we successfully learn about it in the image header, but the data type, if not an int or byte, is not stored in the header, so it says **GMT_CHAR**.  This means we will allocate a byte array to hold a stack of double precision layers and this will not work.\r\n2. It also seems that gmt_gdalwrite.c makes assumptions of layers being byte so things will go wrong here as well.\r\n\r\nOther than that, it seems the machinery is set up to do n_bands just fine.  So perhaps overcoming these obstacles is mostly about setting image->type to **GMT_DOUBLE** (for this data set) and use that when allocating the output array as well as the de-padding step in gmt_gdalwrite.c\r\n",
    "closed_at": "2021-10-05T21:55:22Z",
    "closed_by": {
        "avatar_url": "https://avatars.githubusercontent.com/u/26473567?v=4",
        "events_url": "https://api.github.com/users/PaulWessel/events{/privacy}",
        "followers_url": "https://api.github.com/users/PaulWessel/followers",
        "following_url": "https://api.github.com/users/PaulWessel/following{/other_user}",
        "gists_url": "https://api.github.com/users/PaulWessel/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/PaulWessel",
        "id": 26473567,
        "login": "PaulWessel",
        "node_id": "MDQ6VXNlcjI2NDczNTY3",
        "organizations_url": "https://api.github.com/users/PaulWessel/orgs",
        "received_events_url": "https://api.github.com/users/PaulWessel/received_events",
        "repos_url": "https://api.github.com/users/PaulWessel/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/PaulWessel/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/PaulWessel/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/PaulWessel"
    },
    "comments": 6,
    "comments_content": [
        {
            "author_association": "MEMBER",
            "body": "> where the sentinel file has 16 double-precision bands,\r\n\r\nWhat Sentinel files are stored in multi-band double precision. Sentinel-1? (Never played with those yet)",
            "created_at": "2021-09-28T22:25:16Z",
            "html_url": "https://github.com/GenericMappingTools/gmt/issues/5816#issuecomment-929669642",
            "id": 929669642,
            "issue_url": "https://api.github.com/repos/GenericMappingTools/gmt/issues/5816",
            "node_id": "IC_kwDOCJzWHc43aaIK",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/GenericMappingTools/gmt/issues/comments/929669642/reactions"
            },
            "updated_at": "2021-09-28T22:25:16Z",
            "url": "https://api.github.com/repos/GenericMappingTools/gmt/issues/comments/929669642",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/537321?v=4",
                "events_url": "https://api.github.com/users/joa-quim/events{/privacy}",
                "followers_url": "https://api.github.com/users/joa-quim/followers",
                "following_url": "https://api.github.com/users/joa-quim/following{/other_user}",
                "gists_url": "https://api.github.com/users/joa-quim/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/joa-quim",
                "id": 537321,
                "login": "joa-quim",
                "node_id": "MDQ6VXNlcjUzNzMyMQ==",
                "organizations_url": "https://api.github.com/users/joa-quim/orgs",
                "received_events_url": "https://api.github.com/users/joa-quim/received_events",
                "repos_url": "https://api.github.com/users/joa-quim/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/joa-quim/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/joa-quim/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/joa-quim"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "Probably processed data (via Meghan) but that file has 16 bands so no point computing a single min/max.",
            "created_at": "2021-09-28T22:33:06Z",
            "html_url": "https://github.com/GenericMappingTools/gmt/issues/5816#issuecomment-929673096",
            "id": 929673096,
            "issue_url": "https://api.github.com/repos/GenericMappingTools/gmt/issues/5816",
            "node_id": "IC_kwDOCJzWHc43aa-I",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/GenericMappingTools/gmt/issues/comments/929673096/reactions"
            },
            "updated_at": "2021-09-28T22:33:06Z",
            "url": "https://api.github.com/repos/GenericMappingTools/gmt/issues/comments/929673096",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/26473567?v=4",
                "events_url": "https://api.github.com/users/PaulWessel/events{/privacy}",
                "followers_url": "https://api.github.com/users/PaulWessel/followers",
                "following_url": "https://api.github.com/users/PaulWessel/following{/other_user}",
                "gists_url": "https://api.github.com/users/PaulWessel/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/PaulWessel",
                "id": 26473567,
                "login": "PaulWessel",
                "node_id": "MDQ6VXNlcjI2NDczNTY3",
                "organizations_url": "https://api.github.com/users/PaulWessel/orgs",
                "received_events_url": "https://api.github.com/users/PaulWessel/received_events",
                "repos_url": "https://api.github.com/users/PaulWessel/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/PaulWessel/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/PaulWessel/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/PaulWessel"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "I do not have much details about the provenance of the data. It's a dataset that I had from helping someone else with GMT usage, which I shared with Paul as an example of a multi-band TIFF. ",
            "created_at": "2021-09-28T22:40:04Z",
            "html_url": "https://github.com/GenericMappingTools/gmt/issues/5816#issuecomment-929675969",
            "id": 929675969,
            "issue_url": "https://api.github.com/repos/GenericMappingTools/gmt/issues/5816",
            "node_id": "IC_kwDOCJzWHc43abrB",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/GenericMappingTools/gmt/issues/comments/929675969/reactions"
            },
            "updated_at": "2021-09-28T22:40:04Z",
            "url": "https://api.github.com/repos/GenericMappingTools/gmt/issues/comments/929675969",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/14077947?v=4",
                "events_url": "https://api.github.com/users/maxrjones/events{/privacy}",
                "followers_url": "https://api.github.com/users/maxrjones/followers",
                "following_url": "https://api.github.com/users/maxrjones/following{/other_user}",
                "gists_url": "https://api.github.com/users/maxrjones/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/maxrjones",
                "id": 14077947,
                "login": "maxrjones",
                "node_id": "MDQ6VXNlcjE0MDc3OTQ3",
                "organizations_url": "https://api.github.com/users/maxrjones/orgs",
                "received_events_url": "https://api.github.com/users/maxrjones/received_events",
                "repos_url": "https://api.github.com/users/maxrjones/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/maxrjones/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/maxrjones/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/maxrjones"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "Multi-band Sentinel TIFFs that I know are UInt16, not doubles. What do they represent?\r\n\r\n'doubles' smell Matlab insistence that all numbers are doubles.",
            "created_at": "2021-09-28T23:07:15Z",
            "html_url": "https://github.com/GenericMappingTools/gmt/issues/5816#issuecomment-929687707",
            "id": 929687707,
            "issue_url": "https://api.github.com/repos/GenericMappingTools/gmt/issues/5816",
            "node_id": "IC_kwDOCJzWHc43aeib",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/GenericMappingTools/gmt/issues/comments/929687707/reactions"
            },
            "updated_at": "2021-09-28T23:08:23Z",
            "url": "https://api.github.com/repos/GenericMappingTools/gmt/issues/comments/929687707",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/537321?v=4",
                "events_url": "https://api.github.com/users/joa-quim/events{/privacy}",
                "followers_url": "https://api.github.com/users/joa-quim/followers",
                "following_url": "https://api.github.com/users/joa-quim/following{/other_user}",
                "gists_url": "https://api.github.com/users/joa-quim/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/joa-quim",
                "id": 537321,
                "login": "joa-quim",
                "node_id": "MDQ6VXNlcjUzNzMyMQ==",
                "organizations_url": "https://api.github.com/users/joa-quim/orgs",
                "received_events_url": "https://api.github.com/users/joa-quim/received_events",
                "repos_url": "https://api.github.com/users/joa-quim/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/joa-quim/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/joa-quim/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/joa-quim"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "Here's a multi-layer UInt16 GeoTIFF\r\nhttps://github.com/GenericMappingTools/RemoteS.jl/blob/main/test/LC08_cube.tiff",
            "created_at": "2021-09-29T01:04:38Z",
            "html_url": "https://github.com/GenericMappingTools/gmt/issues/5816#issuecomment-929738105",
            "id": 929738105,
            "issue_url": "https://api.github.com/repos/GenericMappingTools/gmt/issues/5816",
            "node_id": "IC_kwDOCJzWHc43aq15",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/GenericMappingTools/gmt/issues/comments/929738105/reactions"
            },
            "updated_at": "2021-09-29T01:04:38Z",
            "url": "https://api.github.com/repos/GenericMappingTools/gmt/issues/comments/929738105",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/537321?v=4",
                "events_url": "https://api.github.com/users/joa-quim/events{/privacy}",
                "followers_url": "https://api.github.com/users/joa-quim/followers",
                "following_url": "https://api.github.com/users/joa-quim/following{/other_user}",
                "gists_url": "https://api.github.com/users/joa-quim/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/joa-quim",
                "id": 537321,
                "login": "joa-quim",
                "node_id": "MDQ6VXNlcjUzNzMyMQ==",
                "organizations_url": "https://api.github.com/users/joa-quim/orgs",
                "received_events_url": "https://api.github.com/users/joa-quim/received_events",
                "repos_url": "https://api.github.com/users/joa-quim/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/joa-quim/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/joa-quim/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/joa-quim"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "Closed due to #5819 which is now merged.",
            "created_at": "2021-10-05T21:55:21Z",
            "html_url": "https://github.com/GenericMappingTools/gmt/issues/5816#issuecomment-934903916",
            "id": 934903916,
            "issue_url": "https://api.github.com/repos/GenericMappingTools/gmt/issues/5816",
            "node_id": "IC_kwDOCJzWHc43uYBs",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/GenericMappingTools/gmt/issues/comments/934903916/reactions"
            },
            "updated_at": "2021-10-05T21:55:21Z",
            "url": "https://api.github.com/repos/GenericMappingTools/gmt/issues/comments/934903916",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/26473567?v=4",
                "events_url": "https://api.github.com/users/PaulWessel/events{/privacy}",
                "followers_url": "https://api.github.com/users/PaulWessel/followers",
                "following_url": "https://api.github.com/users/PaulWessel/following{/other_user}",
                "gists_url": "https://api.github.com/users/PaulWessel/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/PaulWessel",
                "id": 26473567,
                "login": "PaulWessel",
                "node_id": "MDQ6VXNlcjI2NDczNTY3",
                "organizations_url": "https://api.github.com/users/PaulWessel/orgs",
                "received_events_url": "https://api.github.com/users/PaulWessel/received_events",
                "repos_url": "https://api.github.com/users/PaulWessel/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/PaulWessel/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/PaulWessel/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/PaulWessel"
            }
        }
    ],
    "comments_url": "https://api.github.com/repos/GenericMappingTools/gmt/issues/5816/comments",
    "created_at": "2021-09-28T21:40:56Z",
    "events_url": "https://api.github.com/repos/GenericMappingTools/gmt/issues/5816/events",
    "html_url": "https://github.com/GenericMappingTools/gmt/issues/5816",
    "id": 1010236692,
    "labels": [
        {
            "color": "d73a4a",
            "default": true,
            "description": "Something isn't working",
            "id": 1022239695,
            "name": "bug",
            "node_id": "MDU6TGFiZWwxMDIyMjM5Njk1",
            "url": "https://api.github.com/repos/GenericMappingTools/gmt/labels/bug"
        }
    ],
    "labels_url": "https://api.github.com/repos/GenericMappingTools/gmt/issues/5816/labels{/name}",
    "locked": false,
    "milestone": null,
    "node_id": "I_kwDOCJzWHc48Nv0U",
    "number": 5816,
    "performed_via_github_app": null,
    "reactions": {
        "+1": 0,
        "-1": 0,
        "confused": 0,
        "eyes": 0,
        "heart": 0,
        "hooray": 0,
        "laugh": 0,
        "rocket": 0,
        "total_count": 0,
        "url": "https://api.github.com/repos/GenericMappingTools/gmt/issues/5816/reactions"
    },
    "repository_url": "https://api.github.com/repos/GenericMappingTools/gmt",
    "state": "closed",
    "state_reason": "completed",
    "timeline_url": "https://api.github.com/repos/GenericMappingTools/gmt/issues/5816/timeline",
    "title": "How to handle multi-band grids stored in GeoTiffs",
    "updated_at": "2021-10-05T21:55:22Z",
    "url": "https://api.github.com/repos/GenericMappingTools/gmt/issues/5816",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/26473567?v=4",
        "events_url": "https://api.github.com/users/PaulWessel/events{/privacy}",
        "followers_url": "https://api.github.com/users/PaulWessel/followers",
        "following_url": "https://api.github.com/users/PaulWessel/following{/other_user}",
        "gists_url": "https://api.github.com/users/PaulWessel/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/PaulWessel",
        "id": 26473567,
        "login": "PaulWessel",
        "node_id": "MDQ6VXNlcjI2NDczNTY3",
        "organizations_url": "https://api.github.com/users/PaulWessel/orgs",
        "received_events_url": "https://api.github.com/users/PaulWessel/received_events",
        "repos_url": "https://api.github.com/users/PaulWessel/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/PaulWessel/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/PaulWessel/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/PaulWessel"
    }
}