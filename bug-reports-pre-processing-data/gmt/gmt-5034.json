{
    "active_lock_reason": null,
    "assignee": null,
    "assignees": [],
    "author_association": "CONTRIBUTOR",
    "body": "[BathymetryExport-dtm.zip](https://github.com/GenericMappingTools/gmt/files/6220255/BathymetryExport-dtm.zip)\r\nGrid ``BathymetryExport-dtm.tif`` in ETRS89 / UTM zone 33N:\r\n\r\n```\r\n$ gmt grdinfo BathymetryExport-dtm.tif\r\nBathymetryExport-dtm.tif: Title: Grid imported via GDAL\r\nBathymetryExport-dtm.tif: Command:\r\nBathymetryExport-dtm.tif: Remark:\r\nBathymetryExport-dtm.tif: Pixel node registration used [Cartesian grid]\r\nBathymetryExport-dtm.tif: Grid file format: gd = Import/export through GDAL\r\nBathymetryExport-dtm.tif: x_min: 238337.5 x_max: 295262.5 x_inc: 25 name: x n_columns: 2277\r\nBathymetryExport-dtm.tif: y_min: 8149712.5 y_max: 8187662.5 y_inc: 25 name: y n_rows: 1518\r\nBathymetryExport-dtm.tif: v_min: -3303.82006836 v_max: -1646.84997559 name: z\r\nBathymetryExport-dtm.tif: scale_factor: 1 add_offset: 0\r\n+proj=utm +zone=33 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs\r\n```\r\n\r\nTestplot:\r\n\r\n```\r\ngmt grdimage BathymetryExport-dtm.tif -pdf test\r\n```\r\n\r\nLooks good.\r\n\r\nReproject to geodetic:\r\n\r\n```\r\n$ gmt grdproject -I -Ju+33/1:1 -C -F BathymetryExport-dtm.tif -Greproject.nc -V\r\ngrdproject [INFORMATION]: Processing input grid\r\ngrdproject [INFORMATION]: File BathymetryExport-dtm.tif reads with GDAL driver GTiff\r\ngrdproject [INFORMATION]: Using spherical projection with authalic latitudes\r\ngrdproject [INFORMATION]: First opt_R\t 6.633490225606/8.633490225606/72.508558559234/74.508558559234\t1.71025e+09\t3.21602e+08\r\ngrdproject [INFORMATION]: Second opt_R\t 6.663782868652/73.280813537334/8.589722966581/73.680863705509r\r\ngrdproject [INFORMATION]: File BathymetryExport-dtm.tif reads with GDAL driver GTiff\r\ngrdproject [INFORMATION]: Cartesian input grid\r\ngrdproject [INFORMATION]: Cartesian input grid\r\ngrdproject [INFORMATION]: Reading grid from file BathymetryExport-dtm.tif\r\ngrdproject [INFORMATION]: Read band(s):\t1\r\ngrdproject [INFORMATION]: Cartesian input grid\r\ngrdproject [INFORMATION]: Set boundary condition for all edges: natural\r\ngrdproject [INFORMATION]: Set boundary condition for left   edge: natural\r\ngrdproject [INFORMATION]: Set boundary condition for right  edge: natural\r\ngrdproject [INFORMATION]: Set boundary condition for bottom edge: natural\r\ngrdproject [INFORMATION]: Set boundary condition for top    edge: natural\r\ngrdproject [INFORMATION]: Grid projection from size 2277x1518 to 2277x1518\r\ngrdproject [INFORMATION]: Transform (6.66378286865/8.58972296658/73.2808135373/73.6808637055) <-- (233108.794758/299303.366269/8150438.93133/8187222.35953) [m]\r\ngrdproject [INFORMATION]: Writing grid to file reproject.nc\r\ngrdproject [INFORMATION]: Proj4 string to be converted to WKT:\r\n\t+proj=longlat +ellps=WGS84 +no_defs\r\ngrdproject [INFORMATION]: WKT converted from proj4 string:\r\nGEOGCS[\"unknown\",\r\n    DATUM[\"Unknown based on WGS84 ellipsoid\",\r\n        SPHEROID[\"WGS 84\",6378137,298.257223563,\r\n            AUTHORITY[\"EPSG\",\"7030\"]]],\r\n    PRIMEM[\"Greenwich\",0,\r\n        AUTHORITY[\"EPSG\",\"8901\"]],\r\n    UNIT[\"degree\",0.0174532925199433,\r\n        AUTHORITY[\"EPSG\",\"9122\"]],\r\n    AXIS[\"Longitude\",EAST],\r\n    AXIS[\"Latitude\",NORTH]]\r\n```\r\n\r\nCheck grid:\r\n\r\n```\r\n$ gmt grdinfo reproject.nc\r\nreproject.nc: Title: Produced by grdproject\r\nreproject.nc: Command: grdproject -I -Ju+33/1:1 -C -F BathymetryExport-dtm.tif -Greproject.nc -V\r\nreproject.nc: Remark:\r\nreproject.nc: Pixel node registration used [Geographic grid]\r\nreproject.nc: Grid file format: nf = GMT netCDF format (32-bit float), CF-1.7\r\nreproject.nc: x_min: 6.66378286865 x_max: 8.58972296658 x_inc: 0.000845823494918 name: longitude n_columns: 2277\r\nreproject.nc: y_min: 73.2808135373 y_max: 73.6808637055 y_inc: 0.000263537660194 name: latitude n_rows: 1518\r\nreproject.nc: v_min: -3292.99536133 v_max: -1648.38342285 name: z\r\nreproject.nc: scale_factor: 1 add_offset: 0\r\nreproject.nc: format: netCDF-4 chunk_size: 134,138 shuffle: on deflation_level: 3\r\nGEOGCS[\"unknown\",\r\n    DATUM[\"Unknown based on WGS84 ellipsoid\",\r\n        SPHEROID[\"WGS 84\",6378137,298.257223563,\r\n            AUTHORITY[\"EPSG\",\"7030\"]]],\r\n    PRIMEM[\"Greenwich\",0,\r\n        AUTHORITY[\"EPSG\",\"8901\"]],\r\n    UNIT[\"degree\",0.0174532925199433,\r\n        AUTHORITY[\"EPSG\",\"9122\"]],\r\n    AXIS[\"Longitude\",EAST],\r\n    AXIS[\"Latitude\",NORTH]]\r\n```\r\n\r\nTestplot of inverse projected grid:\r\n\r\n```\r\ngmt grdimage reproject.nc -pdf test\r\n```\r\n\r\nLooks good.\r\n\r\nStart to bake cake with an initial ``grdimage``:\r\n\r\n```\r\ngmt grdimage reproject.nc > test.ps\r\nERROR: Caught signal number 11 (Segmentation fault) at\r\n/usr/local/lib/libgmt.so.6(+0x16ec33)[0x7f58e68a2c33]\r\n/usr/local/lib/libgmt.so.6(+0x464a45)[0x7f58e6b98a45]\r\nStack backtrace:\r\n/usr/local/lib/libgmt.so.6(sig_handler+0x2a3)[0x7f58e676c663]\r\n/usr/lib/libpthread.so.0(+0x13960)[0x7f58e4445960]\r\n/usr/local/lib/libgmt.so.6(+0x16ec33)[0x7f58e68a2c33]\r\n/usr/local/lib/libgmt.so.6(gmt_parse_common_options+0x2ff4)[0x7f58e68b2c64]\r\n/usr/local/lib/libgmt.so.6(GMT_grdimage+0x374f)[0x7f58e69e84af]\r\n/usr/local/lib/libgmt.so.6(GMT_Call_Module+0x72e)[0x7f58e678afae]\r\ngmt(main+0x472)[0x55ed077ff642]\r\n/usr/lib/libc.so.6(__libc_start_main+0xd5)[0x7f58e428cb25]\r\ngmt(_start+0x2e)[0x55ed0780048e]\r\n```\r\n\r\n``grdcontour`` has no problems:\r\n\r\n```\r\ngmt grdcontour reproject.nc -JM15c > test.ps\r\n```",
    "closed_at": "2021-03-30T17:15:16Z",
    "closed_by": {
        "avatar_url": "https://avatars.githubusercontent.com/u/26473567?v=4",
        "events_url": "https://api.github.com/users/PaulWessel/events{/privacy}",
        "followers_url": "https://api.github.com/users/PaulWessel/followers",
        "following_url": "https://api.github.com/users/PaulWessel/following{/other_user}",
        "gists_url": "https://api.github.com/users/PaulWessel/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/PaulWessel",
        "id": 26473567,
        "login": "PaulWessel",
        "node_id": "MDQ6VXNlcjI2NDczNTY3",
        "organizations_url": "https://api.github.com/users/PaulWessel/orgs",
        "received_events_url": "https://api.github.com/users/PaulWessel/received_events",
        "repos_url": "https://api.github.com/users/PaulWessel/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/PaulWessel/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/PaulWessel/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/PaulWessel"
    },
    "comments": 1,
    "comments_content": [
        {
            "author_association": "CONTRIBUTOR",
            "body": "I just noticed I left out ``-J`` in my crash-command above. Including this avoids crash:\r\n\r\n```\r\ngmt grdimage reproject.nc -JM15c > test.ps\r\n```\r\n\r\nMaybe it shouldnt crash even when ``-J`` is missing?",
            "created_at": "2021-03-29T11:43:30Z",
            "html_url": "https://github.com/GenericMappingTools/gmt/issues/5034#issuecomment-809311629",
            "id": 809311629,
            "issue_url": "https://api.github.com/repos/GenericMappingTools/gmt/issues/5034",
            "node_id": "MDEyOklzc3VlQ29tbWVudDgwOTMxMTYyOQ==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/GenericMappingTools/gmt/issues/comments/809311629/reactions"
            },
            "updated_at": "2021-03-29T11:51:43Z",
            "url": "https://api.github.com/repos/GenericMappingTools/gmt/issues/comments/809311629",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/29237824?v=4",
                "events_url": "https://api.github.com/users/anbj/events{/privacy}",
                "followers_url": "https://api.github.com/users/anbj/followers",
                "following_url": "https://api.github.com/users/anbj/following{/other_user}",
                "gists_url": "https://api.github.com/users/anbj/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/anbj",
                "id": 29237824,
                "login": "anbj",
                "node_id": "MDQ6VXNlcjI5MjM3ODI0",
                "organizations_url": "https://api.github.com/users/anbj/orgs",
                "received_events_url": "https://api.github.com/users/anbj/received_events",
                "repos_url": "https://api.github.com/users/anbj/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/anbj/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/anbj/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/anbj"
            }
        }
    ],
    "comments_url": "https://api.github.com/repos/GenericMappingTools/gmt/issues/5034/comments",
    "created_at": "2021-03-29T08:17:36Z",
    "events_url": "https://api.github.com/repos/GenericMappingTools/gmt/issues/5034/events",
    "html_url": "https://github.com/GenericMappingTools/gmt/issues/5034",
    "id": 843107202,
    "labels": [
        {
            "color": "d73a4a",
            "default": true,
            "description": "Something isn't working",
            "id": 1022239695,
            "name": "bug",
            "node_id": "MDU6TGFiZWwxMDIyMjM5Njk1",
            "url": "https://api.github.com/repos/GenericMappingTools/gmt/labels/bug"
        }
    ],
    "labels_url": "https://api.github.com/repos/GenericMappingTools/gmt/issues/5034/labels{/name}",
    "locked": false,
    "milestone": null,
    "node_id": "MDU6SXNzdWU4NDMxMDcyMDI=",
    "number": 5034,
    "performed_via_github_app": null,
    "reactions": {
        "+1": 0,
        "-1": 0,
        "confused": 0,
        "eyes": 0,
        "heart": 0,
        "hooray": 0,
        "laugh": 0,
        "rocket": 0,
        "total_count": 0,
        "url": "https://api.github.com/repos/GenericMappingTools/gmt/issues/5034/reactions"
    },
    "repository_url": "https://api.github.com/repos/GenericMappingTools/gmt",
    "state": "closed",
    "state_reason": "completed",
    "timeline_url": "https://api.github.com/repos/GenericMappingTools/gmt/issues/5034/timeline",
    "title": "grdimage crashes after inverse projecting grid",
    "updated_at": "2021-03-30T17:15:16Z",
    "url": "https://api.github.com/repos/GenericMappingTools/gmt/issues/5034",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/29237824?v=4",
        "events_url": "https://api.github.com/users/anbj/events{/privacy}",
        "followers_url": "https://api.github.com/users/anbj/followers",
        "following_url": "https://api.github.com/users/anbj/following{/other_user}",
        "gists_url": "https://api.github.com/users/anbj/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/anbj",
        "id": 29237824,
        "login": "anbj",
        "node_id": "MDQ6VXNlcjI5MjM3ODI0",
        "organizations_url": "https://api.github.com/users/anbj/orgs",
        "received_events_url": "https://api.github.com/users/anbj/received_events",
        "repos_url": "https://api.github.com/users/anbj/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/anbj/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/anbj/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/anbj"
    }
}