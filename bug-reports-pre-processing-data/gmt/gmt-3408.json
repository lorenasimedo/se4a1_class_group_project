{
    "active_lock_reason": null,
    "assignee": null,
    "assignees": [],
    "author_association": "MEMBER",
    "body": "The issue was first reported by @liamtoney in https://github.com/GenericMappingTools/pygmt/issues/364. Using the PyGMT script in that issue, he got the following error:\r\n```\r\ngrdimage [ERROR]: Passing zmax <= zmin prevents automatic CPT generation!\r\ngrdimage [ERROR]: Failed to read CPT geo.\r\n```\r\n\r\nAfter some debugging, it seems that GMT can correctly read the matrix (i.e., the earth relief data) and can plot it correctly if **shading=False** (i.e., no **-I+d** in the command line). However, if **shading=True** is used (i.e., grdimage -I+d), GMT reports the error above, possibly because the matrix in memory is modified/freed/re-initialized when calling `grdgradient`.\r\n\r\n---\r\n\r\nThe issue can be partially reproduced using the following C codes. The C code below is modified from GMT's own test code `testapi_matrix_plot.c`. It reads a 2d matrix and plots the matrix using grdimage.\r\n```C\r\n#include \"gmt.h\"\r\n\r\nint main () {\r\n\tvoid *API = NULL;                /* The API control structure */\r\n\tstruct GMT_MATRIX *M = NULL;    /* Structure to hold input matrix */\r\n\tchar input[GMT_VF_LEN] = {\"\"};\t/* String to hold virtual input filename */\r\n\tchar args[128] = {\"\"};         \t/* String to hold module command arguments */\r\n\t/* Initialize the GMT session */\r\n\tAPI = GMT_Create_Session (\"test\", 2U, GMT_SESSION_EXTERNAL, NULL);\r\n\tM = GMT_Read_Data (API, GMT_IS_MATRIX, GMT_IS_FILE, GMT_IS_SURFACE, GMT_READ_NORMAL, NULL, \"2d-matrix.txt\", NULL);\r\n\t/* Associate our matrix with a virtual file */\r\n\tGMT_Open_VirtualFile (API, GMT_IS_GRID|GMT_VIA_MATRIX, GMT_IS_SURFACE, GMT_IN, M, input);\r\n\r\n\t/* Prepare the module arguments */\r\n\tsprintf (args, \"%s -JX6i -P -Baf -Cgeo\", input);\r\n\t/* Call the grdimage module */\r\n\tGMT_Call_Module (API, \"grdimage\", GMT_MODULE_CMD, args);\r\n\r\n\t/* Close the virtual file */\r\n\tGMT_Close_VirtualFile (API, input);\r\n\t/* Destroy session */\r\n\tif (GMT_Destroy_Session (API)) return EXIT_FAILURE;\r\n};\r\n```\r\n\r\nThe data `2d-matrix.txt` is the 60m earth relief data, converted from netCDF to matrix format using following Python code. The data is attached [2d-matrix.txt](https://github.com/GenericMappingTools/gmt/files/4703975/2d-matrix.txt).\r\n\r\n```python\r\nimport numpy as np\r\nimport pygmt\r\ner = pygmt.datasets.load_earth_relief(\"60m\")\r\nnp.savetxt(\"2d-matrix.txt\", np.flip(er.data, axis=0), fmt='%.1f')\r\n```\r\n\r\nThe C code is compiled using\r\n```\r\ngcc testapi_matrix_plot.c $(gmt-config --cflags --libs)\r\n```\r\n\r\nThe output image looks correct. The coordinates are incorrect, simply because I didn't pass the geographic information.\r\n\r\n![image](https://user-images.githubusercontent.com/3974108/83299477-3ef30f80-a1c4-11ea-8c7e-e470ed9b3775.png)\r\n\r\n\r\nChanging the grdimage arguments to:\r\n```\r\nsprintf (args, \"%s -JX6i -P -Baf -Cgeo -I+d\", input);\r\n```\r\nto enable shading, then the output image is:\r\n\r\n![image](https://user-images.githubusercontent.com/3974108/83299566-6b0e9080-a1c4-11ea-9b30-acc5493c2fcc.png)\r\n\r\nThis is what I expect:\r\n\r\n![image](https://user-images.githubusercontent.com/3974108/83300094-5e3e6c80-a1c5-11ea-98da-e24ff8ff75fe.png)\r\n",
    "closed_at": "2020-10-14T22:58:49Z",
    "closed_by": {
        "avatar_url": "https://avatars.githubusercontent.com/u/26473567?v=4",
        "events_url": "https://api.github.com/users/PaulWessel/events{/privacy}",
        "followers_url": "https://api.github.com/users/PaulWessel/followers",
        "following_url": "https://api.github.com/users/PaulWessel/following{/other_user}",
        "gists_url": "https://api.github.com/users/PaulWessel/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/PaulWessel",
        "id": 26473567,
        "login": "PaulWessel",
        "node_id": "MDQ6VXNlcjI2NDczNTY3",
        "organizations_url": "https://api.github.com/users/PaulWessel/orgs",
        "received_events_url": "https://api.github.com/users/PaulWessel/received_events",
        "repos_url": "https://api.github.com/users/PaulWessel/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/PaulWessel/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/PaulWessel/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/PaulWessel"
    },
    "comments": 26,
    "comments_content": [
        {
            "author_association": "MEMBER",
            "body": "Hmmm, unless I'm missing something I think it's the user responsibility to pass arrays with order that GMT is expecting. I do that *all the time* in Julia and never had this problem. Well not counting the countless days working in a way that the *memory layout* can be set, and changed, to work with this.\r\nEven netCDF can be TOPdown or BOTTOMup.",
            "created_at": "2020-05-29T17:15:53Z",
            "html_url": "https://github.com/GenericMappingTools/gmt/issues/3408#issuecomment-636087212",
            "id": 636087212,
            "issue_url": "https://api.github.com/repos/GenericMappingTools/gmt/issues/3408",
            "node_id": "MDEyOklzc3VlQ29tbWVudDYzNjA4NzIxMg==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/GenericMappingTools/gmt/issues/comments/636087212/reactions"
            },
            "updated_at": "2020-05-29T17:15:53Z",
            "url": "https://api.github.com/repos/GenericMappingTools/gmt/issues/comments/636087212",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/537321?v=4",
                "events_url": "https://api.github.com/users/joa-quim/events{/privacy}",
                "followers_url": "https://api.github.com/users/joa-quim/followers",
                "following_url": "https://api.github.com/users/joa-quim/following{/other_user}",
                "gists_url": "https://api.github.com/users/joa-quim/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/joa-quim",
                "id": 537321,
                "login": "joa-quim",
                "node_id": "MDQ6VXNlcjUzNzMyMQ==",
                "organizations_url": "https://api.github.com/users/joa-quim/orgs",
                "received_events_url": "https://api.github.com/users/joa-quim/received_events",
                "repos_url": "https://api.github.com/users/joa-quim/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/joa-quim/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/joa-quim/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/joa-quim"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "I didn't mean that the first figure is wrong. The flipping Y axis is simply because I didn't spend any time to re-sort the matrix. The first figure shows that the GMT_Read_Data can correctly read the matrix.\r\n\r\nThe main issue here is the second figure. After adding **-I+d**, the output figure is not what we expect.",
            "created_at": "2020-05-29T17:22:29Z",
            "html_url": "https://github.com/GenericMappingTools/gmt/issues/3408#issuecomment-636090174",
            "id": 636090174,
            "issue_url": "https://api.github.com/repos/GenericMappingTools/gmt/issues/3408",
            "node_id": "MDEyOklzc3VlQ29tbWVudDYzNjA5MDE3NA==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/GenericMappingTools/gmt/issues/comments/636090174/reactions"
            },
            "updated_at": "2020-05-29T17:23:37Z",
            "url": "https://api.github.com/repos/GenericMappingTools/gmt/issues/comments/636090174",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/3974108?v=4",
                "events_url": "https://api.github.com/users/seisman/events{/privacy}",
                "followers_url": "https://api.github.com/users/seisman/followers",
                "following_url": "https://api.github.com/users/seisman/following{/other_user}",
                "gists_url": "https://api.github.com/users/seisman/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/seisman",
                "id": 3974108,
                "login": "seisman",
                "node_id": "MDQ6VXNlcjM5NzQxMDg=",
                "organizations_url": "https://api.github.com/users/seisman/orgs",
                "received_events_url": "https://api.github.com/users/seisman/received_events",
                "repos_url": "https://api.github.com/users/seisman/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/seisman/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/seisman/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/seisman"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "Does it give the same thing if you create the ascii version with grd2xyz?",
            "created_at": "2020-05-29T17:45:19Z",
            "html_url": "https://github.com/GenericMappingTools/gmt/issues/3408#issuecomment-636100471",
            "id": 636100471,
            "issue_url": "https://api.github.com/repos/GenericMappingTools/gmt/issues/3408",
            "node_id": "MDEyOklzc3VlQ29tbWVudDYzNjEwMDQ3MQ==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/GenericMappingTools/gmt/issues/comments/636100471/reactions"
            },
            "updated_at": "2020-05-29T17:45:19Z",
            "url": "https://api.github.com/repos/GenericMappingTools/gmt/issues/comments/636100471",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/537321?v=4",
                "events_url": "https://api.github.com/users/joa-quim/events{/privacy}",
                "followers_url": "https://api.github.com/users/joa-quim/followers",
                "following_url": "https://api.github.com/users/joa-quim/following{/other_user}",
                "gists_url": "https://api.github.com/users/joa-quim/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/joa-quim",
                "id": 537321,
                "login": "joa-quim",
                "node_id": "MDQ6VXNlcjUzNzMyMQ==",
                "organizations_url": "https://api.github.com/users/joa-quim/orgs",
                "received_events_url": "https://api.github.com/users/joa-quim/received_events",
                "repos_url": "https://api.github.com/users/joa-quim/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/joa-quim/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/joa-quim/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/joa-quim"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "Sorry, I forgot to attach the data in my first comment [2d-matrix.txt](https://github.com/GenericMappingTools/gmt/files/4703396/2d-matrix.txt).\r\n\r\n",
            "created_at": "2020-05-29T17:48:04Z",
            "html_url": "https://github.com/GenericMappingTools/gmt/issues/3408#issuecomment-636101706",
            "id": 636101706,
            "issue_url": "https://api.github.com/repos/GenericMappingTools/gmt/issues/3408",
            "node_id": "MDEyOklzc3VlQ29tbWVudDYzNjEwMTcwNg==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/GenericMappingTools/gmt/issues/comments/636101706/reactions"
            },
            "updated_at": "2020-05-29T17:48:04Z",
            "url": "https://api.github.com/repos/GenericMappingTools/gmt/issues/comments/636101706",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/3974108?v=4",
                "events_url": "https://api.github.com/users/seisman/events{/privacy}",
                "followers_url": "https://api.github.com/users/seisman/followers",
                "following_url": "https://api.github.com/users/seisman/following{/other_user}",
                "gists_url": "https://api.github.com/users/seisman/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/seisman",
                "id": 3974108,
                "login": "seisman",
                "node_id": "MDQ6VXNlcjM5NzQxMDg=",
                "organizations_url": "https://api.github.com/users/seisman/orgs",
                "received_events_url": "https://api.github.com/users/seisman/received_events",
                "repos_url": "https://api.github.com/users/seisman/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/seisman/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/seisman/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/seisman"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "> Does it give the same thing if you create the ascii version with grd2xyz?\r\n\r\ngrd2xyz outputs XYZ triples or Z values, but GMT_Read_Data expects a matrix here (GMT_IS_MATRIX is passed to GMT_Read_Data).",
            "created_at": "2020-05-29T17:51:15Z",
            "html_url": "https://github.com/GenericMappingTools/gmt/issues/3408#issuecomment-636103121",
            "id": 636103121,
            "issue_url": "https://api.github.com/repos/GenericMappingTools/gmt/issues/3408",
            "node_id": "MDEyOklzc3VlQ29tbWVudDYzNjEwMzEyMQ==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/GenericMappingTools/gmt/issues/comments/636103121/reactions"
            },
            "updated_at": "2020-05-29T17:51:15Z",
            "url": "https://api.github.com/repos/GenericMappingTools/gmt/issues/comments/636103121",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/3974108?v=4",
                "events_url": "https://api.github.com/users/seisman/events{/privacy}",
                "followers_url": "https://api.github.com/users/seisman/followers",
                "following_url": "https://api.github.com/users/seisman/following{/other_user}",
                "gists_url": "https://api.github.com/users/seisman/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/seisman",
                "id": 3974108,
                "login": "seisman",
                "node_id": "MDQ6VXNlcjM5NzQxMDg=",
                "organizations_url": "https://api.github.com/users/seisman/orgs",
                "received_events_url": "https://api.github.com/users/seisman/received_events",
                "repos_url": "https://api.github.com/users/seisman/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/seisman/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/seisman/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/seisman"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "Sorry but still fail to see that the problem is in GMT. As I said either in Mirone or Julia I pass grids back and forth and when such cases arise it was always my fault.\r\nIf the array has the correct the correct order, the illumination must have the same order. And speaking on orders, the ``header`` struct has a ``mem_layout`` member to deal with issues of this type. ",
            "created_at": "2020-05-29T18:58:44Z",
            "html_url": "https://github.com/GenericMappingTools/gmt/issues/3408#issuecomment-636134595",
            "id": 636134595,
            "issue_url": "https://api.github.com/repos/GenericMappingTools/gmt/issues/3408",
            "node_id": "MDEyOklzc3VlQ29tbWVudDYzNjEzNDU5NQ==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/GenericMappingTools/gmt/issues/comments/636134595/reactions"
            },
            "updated_at": "2020-05-29T18:58:44Z",
            "url": "https://api.github.com/repos/GenericMappingTools/gmt/issues/comments/636134595",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/537321?v=4",
                "events_url": "https://api.github.com/users/joa-quim/events{/privacy}",
                "followers_url": "https://api.github.com/users/joa-quim/followers",
                "following_url": "https://api.github.com/users/joa-quim/following{/other_user}",
                "gists_url": "https://api.github.com/users/joa-quim/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/joa-quim",
                "id": 537321,
                "login": "joa-quim",
                "node_id": "MDQ6VXNlcjUzNzMyMQ==",
                "organizations_url": "https://api.github.com/users/joa-quim/orgs",
                "received_events_url": "https://api.github.com/users/joa-quim/received_events",
                "repos_url": "https://api.github.com/users/joa-quim/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/joa-quim/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/joa-quim/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/joa-quim"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "@joa-quim It's not about the orders. I've updated the issue description. Hopefully it's more clear to read now.",
            "created_at": "2020-05-29T20:16:23Z",
            "html_url": "https://github.com/GenericMappingTools/gmt/issues/3408#issuecomment-636172701",
            "id": 636172701,
            "issue_url": "https://api.github.com/repos/GenericMappingTools/gmt/issues/3408",
            "node_id": "MDEyOklzc3VlQ29tbWVudDYzNjE3MjcwMQ==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/GenericMappingTools/gmt/issues/comments/636172701/reactions"
            },
            "updated_at": "2020-05-29T20:16:23Z",
            "url": "https://api.github.com/repos/GenericMappingTools/gmt/issues/comments/636172701",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/3974108?v=4",
                "events_url": "https://api.github.com/users/seisman/events{/privacy}",
                "followers_url": "https://api.github.com/users/seisman/followers",
                "following_url": "https://api.github.com/users/seisman/following{/other_user}",
                "gists_url": "https://api.github.com/users/seisman/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/seisman",
                "id": 3974108,
                "login": "seisman",
                "node_id": "MDQ6VXNlcjM5NzQxMDg=",
                "organizations_url": "https://api.github.com/users/seisman/orgs",
                "received_events_url": "https://api.github.com/users/seisman/received_events",
                "repos_url": "https://api.github.com/users/seisman/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/seisman/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/seisman/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/seisman"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "grdgradient does recycle the input grid and places gradients there **except** when we are not allowed:\r\n\r\n\t`new_grid = gmt_set_outgrid (GMT, Ctrl->In.file, separate, Surf, &Out);\t/* true if input is a read-only array */`\r\n\r\nSo since In.file is a @GMTAPI@ memory reference it allocates a separate grid. So not immediately obvious why/where it overwrites the input grid.  But clearly it does.  @seisman, if you are able to walk through this in Xcode or similar you may be able to verify that it is not allocating a new grid.  E.g., _new_grid_ should be true in this case.\r\n\r\nI can help with debug later but busy day with zoom with all Chairs and Provost.  Shit-storm is brewing with Governor planning to take all vacant positions away (we have 5 with active searches all frozen...).\r\n",
            "created_at": "2020-05-29T20:29:55Z",
            "html_url": "https://github.com/GenericMappingTools/gmt/issues/3408#issuecomment-636178275",
            "id": 636178275,
            "issue_url": "https://api.github.com/repos/GenericMappingTools/gmt/issues/3408",
            "node_id": "MDEyOklzc3VlQ29tbWVudDYzNjE3ODI3NQ==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/GenericMappingTools/gmt/issues/comments/636178275/reactions"
            },
            "updated_at": "2020-05-29T20:29:55Z",
            "url": "https://api.github.com/repos/GenericMappingTools/gmt/issues/comments/636178275",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/26473567?v=4",
                "events_url": "https://api.github.com/users/PaulWessel/events{/privacy}",
                "followers_url": "https://api.github.com/users/PaulWessel/followers",
                "following_url": "https://api.github.com/users/PaulWessel/following{/other_user}",
                "gists_url": "https://api.github.com/users/PaulWessel/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/PaulWessel",
                "id": 26473567,
                "login": "PaulWessel",
                "node_id": "MDQ6VXNlcjI2NDczNTY3",
                "organizations_url": "https://api.github.com/users/PaulWessel/orgs",
                "received_events_url": "https://api.github.com/users/PaulWessel/received_events",
                "repos_url": "https://api.github.com/users/PaulWessel/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/PaulWessel/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/PaulWessel/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/PaulWessel"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "`new_grid` is true, but this line returns Grid_orig[0] with data=0.\r\nhttps://github.com/GenericMappingTools/gmt/blob/ddd829bbf99ca7d9b67a9f152457d5045401f988/src/grdimage.c#L891",
            "created_at": "2020-05-29T22:22:35Z",
            "html_url": "https://github.com/GenericMappingTools/gmt/issues/3408#issuecomment-636218770",
            "id": 636218770,
            "issue_url": "https://api.github.com/repos/GenericMappingTools/gmt/issues/3408",
            "node_id": "MDEyOklzc3VlQ29tbWVudDYzNjIxODc3MA==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/GenericMappingTools/gmt/issues/comments/636218770/reactions"
            },
            "updated_at": "2020-05-29T22:22:35Z",
            "url": "https://api.github.com/repos/GenericMappingTools/gmt/issues/comments/636218770",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/3974108?v=4",
                "events_url": "https://api.github.com/users/seisman/events{/privacy}",
                "followers_url": "https://api.github.com/users/seisman/followers",
                "following_url": "https://api.github.com/users/seisman/following{/other_user}",
                "gists_url": "https://api.github.com/users/seisman/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/seisman",
                "id": 3974108,
                "login": "seisman",
                "node_id": "MDQ6VXNlcjM5NzQxMDg=",
                "organizations_url": "https://api.github.com/users/seisman/orgs",
                "received_events_url": "https://api.github.com/users/seisman/received_events",
                "repos_url": "https://api.github.com/users/seisman/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/seisman/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/seisman/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/seisman"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "The original Python script now crashes. It worked when I tested PR #3510, but I don't why now it crashes after merging #3510 to master.\r\n```\r\nimport pygmt\r\n\r\nfig = pygmt.Figure()\r\n\r\ndem = pygmt.datasets.load_earth_relief('10m')\r\n\r\nfig.grdimage(dem, region=[-180, 180, -90, 90], frame='af',\r\n             projection='Cyl_stere/6i', cmap='geo', shading=True)\r\n\r\nfig.show(method='external')\r\n```\r\n\r\nHere are the verbose messages reported by the above Python script. \r\n\r\n[log.txt](https://github.com/GenericMappingTools/gmt/files/4808836/log.txt)\r\n",
            "created_at": "2020-06-21T02:30:07Z",
            "html_url": "https://github.com/GenericMappingTools/gmt/issues/3408#issuecomment-647069651",
            "id": 647069651,
            "issue_url": "https://api.github.com/repos/GenericMappingTools/gmt/issues/3408",
            "node_id": "MDEyOklzc3VlQ29tbWVudDY0NzA2OTY1MQ==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/GenericMappingTools/gmt/issues/comments/647069651/reactions"
            },
            "updated_at": "2020-06-21T02:30:07Z",
            "url": "https://api.github.com/repos/GenericMappingTools/gmt/issues/comments/647069651",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/3974108?v=4",
                "events_url": "https://api.github.com/users/seisman/events{/privacy}",
                "followers_url": "https://api.github.com/users/seisman/followers",
                "following_url": "https://api.github.com/users/seisman/following{/other_user}",
                "gists_url": "https://api.github.com/users/seisman/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/seisman",
                "id": 3974108,
                "login": "seisman",
                "node_id": "MDQ6VXNlcjM5NzQxMDg=",
                "organizations_url": "https://api.github.com/users/seisman/orgs",
                "received_events_url": "https://api.github.com/users/seisman/received_events",
                "repos_url": "https://api.github.com/users/seisman/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/seisman/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/seisman/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/seisman"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "Hm, I do not see any errors in that log.",
            "created_at": "2020-06-21T02:38:17Z",
            "html_url": "https://github.com/GenericMappingTools/gmt/issues/3408#issuecomment-647070142",
            "id": 647070142,
            "issue_url": "https://api.github.com/repos/GenericMappingTools/gmt/issues/3408",
            "node_id": "MDEyOklzc3VlQ29tbWVudDY0NzA3MDE0Mg==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/GenericMappingTools/gmt/issues/comments/647070142/reactions"
            },
            "updated_at": "2020-06-21T02:38:17Z",
            "url": "https://api.github.com/repos/GenericMappingTools/gmt/issues/comments/647070142",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/26473567?v=4",
                "events_url": "https://api.github.com/users/PaulWessel/events{/privacy}",
                "followers_url": "https://api.github.com/users/PaulWessel/followers",
                "following_url": "https://api.github.com/users/PaulWessel/following{/other_user}",
                "gists_url": "https://api.github.com/users/PaulWessel/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/PaulWessel",
                "id": 26473567,
                "login": "PaulWessel",
                "node_id": "MDQ6VXNlcjI2NDczNTY3",
                "organizations_url": "https://api.github.com/users/PaulWessel/orgs",
                "received_events_url": "https://api.github.com/users/PaulWessel/received_events",
                "repos_url": "https://api.github.com/users/PaulWessel/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/PaulWessel/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/PaulWessel/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/PaulWessel"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "It crashes at the end of the log.",
            "created_at": "2020-06-21T02:38:41Z",
            "html_url": "https://github.com/GenericMappingTools/gmt/issues/3408#issuecomment-647070182",
            "id": 647070182,
            "issue_url": "https://api.github.com/repos/GenericMappingTools/gmt/issues/3408",
            "node_id": "MDEyOklzc3VlQ29tbWVudDY0NzA3MDE4Mg==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/GenericMappingTools/gmt/issues/comments/647070182/reactions"
            },
            "updated_at": "2020-06-21T02:38:41Z",
            "url": "https://api.github.com/repos/GenericMappingTools/gmt/issues/comments/647070182",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/3974108?v=4",
                "events_url": "https://api.github.com/users/seisman/events{/privacy}",
                "followers_url": "https://api.github.com/users/seisman/followers",
                "following_url": "https://api.github.com/users/seisman/following{/other_user}",
                "gists_url": "https://api.github.com/users/seisman/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/seisman",
                "id": 3974108,
                "login": "seisman",
                "node_id": "MDQ6VXNlcjM5NzQxMDg=",
                "organizations_url": "https://api.github.com/users/seisman/orgs",
                "received_events_url": "https://api.github.com/users/seisman/received_events",
                "repos_url": "https://api.github.com/users/seisman/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/seisman/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/seisman/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/seisman"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "Different from the C example code above, PyGMT calls following C API functions:\r\n\r\n1. GMT_Create_Data\r\n2. GMT_Put_Matrix\r\n3. GMT_Open_VirtualFile",
            "created_at": "2020-06-21T02:39:35Z",
            "html_url": "https://github.com/GenericMappingTools/gmt/issues/3408#issuecomment-647070244",
            "id": 647070244,
            "issue_url": "https://api.github.com/repos/GenericMappingTools/gmt/issues/3408",
            "node_id": "MDEyOklzc3VlQ29tbWVudDY0NzA3MDI0NA==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/GenericMappingTools/gmt/issues/comments/647070244/reactions"
            },
            "updated_at": "2020-06-21T02:39:35Z",
            "url": "https://api.github.com/repos/GenericMappingTools/gmt/issues/comments/647070244",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/3974108?v=4",
                "events_url": "https://api.github.com/users/seisman/events{/privacy}",
                "followers_url": "https://api.github.com/users/seisman/followers",
                "following_url": "https://api.github.com/users/seisman/following{/other_user}",
                "gists_url": "https://api.github.com/users/seisman/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/seisman",
                "id": 3974108,
                "login": "seisman",
                "node_id": "MDQ6VXNlcjM5NzQxMDg=",
                "organizations_url": "https://api.github.com/users/seisman/orgs",
                "received_events_url": "https://api.github.com/users/seisman/received_events",
                "repos_url": "https://api.github.com/users/seisman/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/seisman/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/seisman/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/seisman"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "Re-open the issue because changes between GMT 6.1.0 and 6.1.1 breaks matrix shading again.\r\n\r\nHere is a Python script to reproduce the issue (adapted from https://github.com/GenericMappingTools/pygmt/issues/364):\r\n```python\r\nimport pygmt\r\n\r\nfig = pygmt.Figure()\r\n\r\n# shaded relief using @earth_relief_30m\r\nfig.grdimage('@earth_relief_30m', region='g', frame=True, projection='Cyl_stere/6i', cmap='geo', shading=True)\r\n\r\nfig.shift_origin(xshift='7i')\r\n\r\n# shaded relief using xarray: DOES NOT WORK.\r\ngrid = pygmt.datasets.load_earth_relief('30m')\r\nfig.grdimage(grid, region='g', frame=True, projection='Cyl_stere/6i', cmap='geo', shading=True)\r\n\r\nfig.savefig(\"shading.png\")\r\n```\r\n**Actual output:**\r\n![image](https://user-images.githubusercontent.com/3974108/94552654-361f5280-0225-11eb-9dd9-736454b18fbd.png)\r\n\r\nYou can see that the right-side map doesn't have shading, although we use `shading=True`.",
            "created_at": "2020-09-29T11:28:40Z",
            "html_url": "https://github.com/GenericMappingTools/gmt/issues/3408#issuecomment-700641543",
            "id": 700641543,
            "issue_url": "https://api.github.com/repos/GenericMappingTools/gmt/issues/3408",
            "node_id": "MDEyOklzc3VlQ29tbWVudDcwMDY0MTU0Mw==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/GenericMappingTools/gmt/issues/comments/700641543/reactions"
            },
            "updated_at": "2020-10-13T03:42:38Z",
            "url": "https://api.github.com/repos/GenericMappingTools/gmt/issues/comments/700641543",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/3974108?v=4",
                "events_url": "https://api.github.com/users/seisman/events{/privacy}",
                "followers_url": "https://api.github.com/users/seisman/followers",
                "following_url": "https://api.github.com/users/seisman/following{/other_user}",
                "gists_url": "https://api.github.com/users/seisman/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/seisman",
                "id": 3974108,
                "login": "seisman",
                "node_id": "MDQ6VXNlcjM5NzQxMDg=",
                "organizations_url": "https://api.github.com/users/seisman/orgs",
                "received_events_url": "https://api.github.com/users/seisman/received_events",
                "repos_url": "https://api.github.com/users/seisman/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/seisman/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/seisman/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/seisman"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "Ping @PaulWessel to the regression introduced in GMT 6.1.1, which breaks PyGMT's grdimage shading again.",
            "created_at": "2020-10-13T03:43:45Z",
            "html_url": "https://github.com/GenericMappingTools/gmt/issues/3408#issuecomment-707465878",
            "id": 707465878,
            "issue_url": "https://api.github.com/repos/GenericMappingTools/gmt/issues/3408",
            "node_id": "MDEyOklzc3VlQ29tbWVudDcwNzQ2NTg3OA==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/GenericMappingTools/gmt/issues/comments/707465878/reactions"
            },
            "updated_at": "2020-10-13T03:43:45Z",
            "url": "https://api.github.com/repos/GenericMappingTools/gmt/issues/comments/707465878",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/3974108?v=4",
                "events_url": "https://api.github.com/users/seisman/events{/privacy}",
                "followers_url": "https://api.github.com/users/seisman/followers",
                "following_url": "https://api.github.com/users/seisman/following{/other_user}",
                "gists_url": "https://api.github.com/users/seisman/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/seisman",
                "id": 3974108,
                "login": "seisman",
                "node_id": "MDQ6VXNlcjM5NzQxMDg=",
                "organizations_url": "https://api.github.com/users/seisman/orgs",
                "received_events_url": "https://api.github.com/users/seisman/received_events",
                "repos_url": "https://api.github.com/users/seisman/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/seisman/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/seisman/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/seisman"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "OK, I will fire up my PyGMT and Xcode tomorrow and have a look.  I should remember just enough to at least tell where it goes wrong.",
            "created_at": "2020-10-13T05:04:06Z",
            "html_url": "https://github.com/GenericMappingTools/gmt/issues/3408#issuecomment-707489440",
            "id": 707489440,
            "issue_url": "https://api.github.com/repos/GenericMappingTools/gmt/issues/3408",
            "node_id": "MDEyOklzc3VlQ29tbWVudDcwNzQ4OTQ0MA==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/GenericMappingTools/gmt/issues/comments/707489440/reactions"
            },
            "updated_at": "2020-10-13T05:04:06Z",
            "url": "https://api.github.com/repos/GenericMappingTools/gmt/issues/comments/707489440",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/26473567?v=4",
                "events_url": "https://api.github.com/users/PaulWessel/events{/privacy}",
                "followers_url": "https://api.github.com/users/PaulWessel/followers",
                "following_url": "https://api.github.com/users/PaulWessel/following{/other_user}",
                "gists_url": "https://api.github.com/users/PaulWessel/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/PaulWessel",
                "id": 26473567,
                "login": "PaulWessel",
                "node_id": "MDQ6VXNlcjI2NDczNTY3",
                "organizations_url": "https://api.github.com/users/PaulWessel/orgs",
                "received_events_url": "https://api.github.com/users/PaulWessel/received_events",
                "repos_url": "https://api.github.com/users/PaulWessel/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/PaulWessel/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/PaulWessel/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/PaulWessel"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "OK, may need to refine my debug instructions for pygmt to be fool-proof:  Got this far:\r\n\r\n```\r\n>>> import pygmt\r\n>>> fig = pygmt.Figure()\r\n>>> grid = pygmt.datasets.load_earth_relief('30m')\r\n>>> fig.grdimage(grid, region='g', frame=True, projection='Cyl_stere/6i', cmap='geo', shading=True)\r\ngrdimage [ERROR]: File /Users/pwessel/opt/miniconda3/share/geo.cpt was not found\r\ngrdimage [ERROR]: Cannot find file /Users/pwessel/opt/miniconda3/share/geo.cpt\r\ngrdimage [ERROR]: File /Users/pwessel/opt/miniconda3/share/geo.cpt not found\r\n[Session pygmt-session (5)]: Error returned from GMT API: GMT_FILE_NOT_FOUND (16)\r\ngrdimage [ERROR]: Failed to read CPT geo.\r\n```\r\n\r\nDo I need to set anything other than **GMT_LIBRARY_PATH**?",
            "created_at": "2020-10-13T19:26:19Z",
            "html_url": "https://github.com/GenericMappingTools/gmt/issues/3408#issuecomment-707958622",
            "id": 707958622,
            "issue_url": "https://api.github.com/repos/GenericMappingTools/gmt/issues/3408",
            "node_id": "MDEyOklzc3VlQ29tbWVudDcwNzk1ODYyMg==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/GenericMappingTools/gmt/issues/comments/707958622/reactions"
            },
            "updated_at": "2020-10-13T19:26:19Z",
            "url": "https://api.github.com/repos/GenericMappingTools/gmt/issues/comments/707958622",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/26473567?v=4",
                "events_url": "https://api.github.com/users/PaulWessel/events{/privacy}",
                "followers_url": "https://api.github.com/users/PaulWessel/followers",
                "following_url": "https://api.github.com/users/PaulWessel/following{/other_user}",
                "gists_url": "https://api.github.com/users/PaulWessel/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/PaulWessel",
                "id": 26473567,
                "login": "PaulWessel",
                "node_id": "MDQ6VXNlcjI2NDczNTY3",
                "organizations_url": "https://api.github.com/users/PaulWessel/orgs",
                "received_events_url": "https://api.github.com/users/PaulWessel/received_events",
                "repos_url": "https://api.github.com/users/PaulWessel/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/PaulWessel/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/PaulWessel/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/PaulWessel"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "You're running your GMT debug build, right? For debug build, I believe you also need to define `GMT_SHAREDIR`.",
            "created_at": "2020-10-13T19:30:10Z",
            "html_url": "https://github.com/GenericMappingTools/gmt/issues/3408#issuecomment-707960463",
            "id": 707960463,
            "issue_url": "https://api.github.com/repos/GenericMappingTools/gmt/issues/3408",
            "node_id": "MDEyOklzc3VlQ29tbWVudDcwNzk2MDQ2Mw==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/GenericMappingTools/gmt/issues/comments/707960463/reactions"
            },
            "updated_at": "2020-10-13T19:30:10Z",
            "url": "https://api.github.com/repos/GenericMappingTools/gmt/issues/comments/707960463",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/3974108?v=4",
                "events_url": "https://api.github.com/users/seisman/events{/privacy}",
                "followers_url": "https://api.github.com/users/seisman/followers",
                "following_url": "https://api.github.com/users/seisman/following{/other_user}",
                "gists_url": "https://api.github.com/users/seisman/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/seisman",
                "id": 3974108,
                "login": "seisman",
                "node_id": "MDQ6VXNlcjM5NzQxMDg=",
                "organizations_url": "https://api.github.com/users/seisman/orgs",
                "received_events_url": "https://api.github.com/users/seisman/received_events",
                "repos_url": "https://api.github.com/users/seisman/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/seisman/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/seisman/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/seisman"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "Thanks that works.  It is a bit odd since the Xcode debug build does not install a share dir so I am pointing it to my regular non-xcode-debug build.  So I have\r\n\r\n```\r\nGMT_LIBRARY_PATH=/Users/pwessel/GMTdev/gmt-dev/xbuild/src/Debug\r\nGMT_SHAREDIR=/Users/pwessel/GMTdev/gmt-dev/dbuild/gmt6/share\r\n```\r\n\r\nNot a problem, but not sure to have the xcodebuild \"install\" the stuff under the xbuild tree.",
            "created_at": "2020-10-13T19:34:38Z",
            "html_url": "https://github.com/GenericMappingTools/gmt/issues/3408#issuecomment-707962647",
            "id": 707962647,
            "issue_url": "https://api.github.com/repos/GenericMappingTools/gmt/issues/3408",
            "node_id": "MDEyOklzc3VlQ29tbWVudDcwNzk2MjY0Nw==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/GenericMappingTools/gmt/issues/comments/707962647/reactions"
            },
            "updated_at": "2020-10-13T19:34:38Z",
            "url": "https://api.github.com/repos/GenericMappingTools/gmt/issues/comments/707962647",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/26473567?v=4",
                "events_url": "https://api.github.com/users/PaulWessel/events{/privacy}",
                "followers_url": "https://api.github.com/users/PaulWessel/followers",
                "following_url": "https://api.github.com/users/PaulWessel/following{/other_user}",
                "gists_url": "https://api.github.com/users/PaulWessel/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/PaulWessel",
                "id": 26473567,
                "login": "PaulWessel",
                "node_id": "MDQ6VXNlcjI2NDczNTY3",
                "organizations_url": "https://api.github.com/users/PaulWessel/orgs",
                "received_events_url": "https://api.github.com/users/PaulWessel/received_events",
                "repos_url": "https://api.github.com/users/PaulWessel/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/PaulWessel/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/PaulWessel/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/PaulWessel"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "OK, so on first going-through everything looks fine: Grid is received, values look fine, they are passed to grdgradient which creates a new grid with intensities that are returned back, with values that look good.  Then both grids are projected and that looks fine too.  THen we build the rgb and I cannot see anything obviously wrong.  I only stepped through a few nodes and the only thing I need to go back and do is to look at more values since the few I looked at had very small intensity values (0.0003 etc) which of course would not change the color.  The projected intensity grid header has reasonable ranges though.\r\nIs it easy for you to diff the two PNGs to see if they differ in subtle ways, as expected if the intensities are off by some unknown factor and close to 0?",
            "created_at": "2020-10-13T20:06:16Z",
            "html_url": "https://github.com/GenericMappingTools/gmt/issues/3408#issuecomment-707978139",
            "id": 707978139,
            "issue_url": "https://api.github.com/repos/GenericMappingTools/gmt/issues/3408",
            "node_id": "MDEyOklzc3VlQ29tbWVudDcwNzk3ODEzOQ==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/GenericMappingTools/gmt/issues/comments/707978139/reactions"
            },
            "updated_at": "2020-10-13T20:06:16Z",
            "url": "https://api.github.com/repos/GenericMappingTools/gmt/issues/comments/707978139",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/26473567?v=4",
                "events_url": "https://api.github.com/users/PaulWessel/events{/privacy}",
                "followers_url": "https://api.github.com/users/PaulWessel/followers",
                "following_url": "https://api.github.com/users/PaulWessel/following{/other_user}",
                "gists_url": "https://api.github.com/users/PaulWessel/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/PaulWessel",
                "id": 26473567,
                "login": "PaulWessel",
                "node_id": "MDQ6VXNlcjI2NDczNTY3",
                "organizations_url": "https://api.github.com/users/PaulWessel/orgs",
                "received_events_url": "https://api.github.com/users/PaulWessel/received_events",
                "repos_url": "https://api.github.com/users/PaulWessel/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/PaulWessel/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/PaulWessel/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/PaulWessel"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "Here is the diff image between the left and right plots:\r\n![image](https://user-images.githubusercontent.com/3974108/95912713-251c2880-0d71-11eb-93f5-c1a07e7c45f4.png)\r\n\r\n\r\nFor the right panel (xarray grid), I sometimes get a plot like this:\r\n![image](https://user-images.githubusercontent.com/3974108/95912540-f00fd600-0d70-11eb-8a2c-b563f9cfdb55.png)\r\n\r\n\r\n\r\n",
            "created_at": "2020-10-13T20:29:34Z",
            "html_url": "https://github.com/GenericMappingTools/gmt/issues/3408#issuecomment-707990833",
            "id": 707990833,
            "issue_url": "https://api.github.com/repos/GenericMappingTools/gmt/issues/3408",
            "node_id": "MDEyOklzc3VlQ29tbWVudDcwNzk5MDgzMw==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/GenericMappingTools/gmt/issues/comments/707990833/reactions"
            },
            "updated_at": "2020-10-13T20:29:34Z",
            "url": "https://api.github.com/repos/GenericMappingTools/gmt/issues/comments/707990833",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/3974108?v=4",
                "events_url": "https://api.github.com/users/seisman/events{/privacy}",
                "followers_url": "https://api.github.com/users/seisman/followers",
                "following_url": "https://api.github.com/users/seisman/following{/other_user}",
                "gists_url": "https://api.github.com/users/seisman/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/seisman",
                "id": 3974108,
                "login": "seisman",
                "node_id": "MDQ6VXNlcjM5NzQxMDg=",
                "organizations_url": "https://api.github.com/users/seisman/orgs",
                "received_events_url": "https://api.github.com/users/seisman/received_events",
                "repos_url": "https://api.github.com/users/seisman/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/seisman/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/seisman/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/seisman"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "Hm, so the diff image does seem to correlate a bit with data gradients, especially the Arctic continental shelf.  Yet still a bit odd.  And your white washing (I assume it is the same CPT?) would indicate a good amount of constant ambient light (positive intensities).  OK, will contrast with the first command to see if values are radically different in the intensity grid.",
            "created_at": "2020-10-13T20:33:37Z",
            "html_url": "https://github.com/GenericMappingTools/gmt/issues/3408#issuecomment-707992955",
            "id": 707992955,
            "issue_url": "https://api.github.com/repos/GenericMappingTools/gmt/issues/3408",
            "node_id": "MDEyOklzc3VlQ29tbWVudDcwNzk5Mjk1NQ==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/GenericMappingTools/gmt/issues/comments/707992955/reactions"
            },
            "updated_at": "2020-10-13T20:33:37Z",
            "url": "https://api.github.com/repos/GenericMappingTools/gmt/issues/comments/707992955",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/26473567?v=4",
                "events_url": "https://api.github.com/users/PaulWessel/events{/privacy}",
                "followers_url": "https://api.github.com/users/PaulWessel/followers",
                "following_url": "https://api.github.com/users/PaulWessel/following{/other_user}",
                "gists_url": "https://api.github.com/users/PaulWessel/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/PaulWessel",
                "id": 26473567,
                "login": "PaulWessel",
                "node_id": "MDQ6VXNlcjI2NDczNTY3",
                "organizations_url": "https://api.github.com/users/PaulWessel/orgs",
                "received_events_url": "https://api.github.com/users/PaulWessel/received_events",
                "repos_url": "https://api.github.com/users/PaulWessel/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/PaulWessel/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/PaulWessel/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/PaulWessel"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "Not there yet, but (re-)learning that with the xarray there are no pad, of course, so the **grdgradient** call makes a new grid for the intensities with a pad of 1.  This is returned to **grdimage**.  The grid has no pad.  Presumably something funny happens in this context.  The left (file case) has pad = 2 throughout and life is good.",
            "created_at": "2020-10-14T01:30:30Z",
            "html_url": "https://github.com/GenericMappingTools/gmt/issues/3408#issuecomment-708099011",
            "id": 708099011,
            "issue_url": "https://api.github.com/repos/GenericMappingTools/gmt/issues/3408",
            "node_id": "MDEyOklzc3VlQ29tbWVudDcwODA5OTAxMQ==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/GenericMappingTools/gmt/issues/comments/708099011/reactions"
            },
            "updated_at": "2020-10-14T01:30:30Z",
            "url": "https://api.github.com/repos/GenericMappingTools/gmt/issues/comments/708099011",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/26473567?v=4",
                "events_url": "https://api.github.com/users/PaulWessel/events{/privacy}",
                "followers_url": "https://api.github.com/users/PaulWessel/followers",
                "following_url": "https://api.github.com/users/PaulWessel/following{/other_user}",
                "gists_url": "https://api.github.com/users/PaulWessel/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/PaulWessel",
                "id": 26473567,
                "login": "PaulWessel",
                "node_id": "MDQ6VXNlcjI2NDczNTY3",
                "organizations_url": "https://api.github.com/users/PaulWessel/orgs",
                "received_events_url": "https://api.github.com/users/PaulWessel/received_events",
                "repos_url": "https://api.github.com/users/PaulWessel/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/PaulWessel/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/PaulWessel/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/PaulWessel"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "More: Well ,Xcode is acting strange today.  I step into a function, then when I step back out I only see assembly, not C.  So that is a bit annoying.  Anyhow, the new scheme with passing a common H header structure fails since the grid and the intensity grid has different paddings.  So I certainly will need to pass HG and HI or something.  So will do that first.",
            "created_at": "2020-10-14T01:38:11Z",
            "html_url": "https://github.com/GenericMappingTools/gmt/issues/3408#issuecomment-708101143",
            "id": 708101143,
            "issue_url": "https://api.github.com/repos/GenericMappingTools/gmt/issues/3408",
            "node_id": "MDEyOklzc3VlQ29tbWVudDcwODEwMTE0Mw==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/GenericMappingTools/gmt/issues/comments/708101143/reactions"
            },
            "updated_at": "2020-10-14T01:38:11Z",
            "url": "https://api.github.com/repos/GenericMappingTools/gmt/issues/comments/708101143",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/26473567?v=4",
                "events_url": "https://api.github.com/users/PaulWessel/events{/privacy}",
                "followers_url": "https://api.github.com/users/PaulWessel/followers",
                "following_url": "https://api.github.com/users/PaulWessel/following{/other_user}",
                "gists_url": "https://api.github.com/users/PaulWessel/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/PaulWessel",
                "id": 26473567,
                "login": "PaulWessel",
                "node_id": "MDQ6VXNlcjI2NDczNTY3",
                "organizations_url": "https://api.github.com/users/PaulWessel/orgs",
                "received_events_url": "https://api.github.com/users/PaulWessel/received_events",
                "repos_url": "https://api.github.com/users/PaulWessel/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/PaulWessel/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/PaulWessel/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/PaulWessel"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "@seisman, if I instead wanted to read in another (very small) grid entirely from netcdf into memory (like grid), is there support for that?",
            "created_at": "2020-10-14T19:09:14Z",
            "html_url": "https://github.com/GenericMappingTools/gmt/issues/3408#issuecomment-708603658",
            "id": 708603658,
            "issue_url": "https://api.github.com/repos/GenericMappingTools/gmt/issues/3408",
            "node_id": "MDEyOklzc3VlQ29tbWVudDcwODYwMzY1OA==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/GenericMappingTools/gmt/issues/comments/708603658/reactions"
            },
            "updated_at": "2020-10-14T19:09:14Z",
            "url": "https://api.github.com/repos/GenericMappingTools/gmt/issues/comments/708603658",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/26473567?v=4",
                "events_url": "https://api.github.com/users/PaulWessel/events{/privacy}",
                "followers_url": "https://api.github.com/users/PaulWessel/followers",
                "following_url": "https://api.github.com/users/PaulWessel/following{/other_user}",
                "gists_url": "https://api.github.com/users/PaulWessel/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/PaulWessel",
                "id": 26473567,
                "login": "PaulWessel",
                "node_id": "MDQ6VXNlcjI2NDczNTY3",
                "organizations_url": "https://api.github.com/users/PaulWessel/orgs",
                "received_events_url": "https://api.github.com/users/PaulWessel/received_events",
                "repos_url": "https://api.github.com/users/PaulWessel/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/PaulWessel/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/PaulWessel/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/PaulWessel"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "> @seisman, if I instead wanted to read in another (very small) grid entirely from netcdf into memory (like grid), is there support for that?\r\n\r\nYes, you can use `xarray.open_datatset` to read a grid into memory. Here is an example.\r\n\r\nI first generate a small grid using **grdcut**:\r\n`gmt grdcut @earth_relief_01d -R0/10/0/10 -Gsmall_grid.nc`\r\n\r\nthen plot the grid in two different ways:\r\n```python\r\nimport pygmt\r\nimport xarray as xr\r\n\r\nfig = pygmt.Figure()\r\n\r\nfig.grdimage('small_grid.nc', frame=True, projection='Cyl_stere/6i', cmap='geo', shading=True)\r\nfig.shift_origin(xshift='7i')\r\n\r\n# shaded relief using xarray: DOES NOT WORK.\r\ngrid = xr.open_dataarray(\"small_grid.nc\")\r\nfig.grdimage(grid, frame=True, projection='Cyl_stere/6i', cmap='geo', shading=True)\r\n\r\nfig.savefig(\"shading.png\")\r\n```\r\n\r\n",
            "created_at": "2020-10-14T21:32:14Z",
            "html_url": "https://github.com/GenericMappingTools/gmt/issues/3408#issuecomment-708671771",
            "id": 708671771,
            "issue_url": "https://api.github.com/repos/GenericMappingTools/gmt/issues/3408",
            "node_id": "MDEyOklzc3VlQ29tbWVudDcwODY3MTc3MQ==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/GenericMappingTools/gmt/issues/comments/708671771/reactions"
            },
            "updated_at": "2020-10-14T21:32:29Z",
            "url": "https://api.github.com/repos/GenericMappingTools/gmt/issues/comments/708671771",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/3974108?v=4",
                "events_url": "https://api.github.com/users/seisman/events{/privacy}",
                "followers_url": "https://api.github.com/users/seisman/followers",
                "following_url": "https://api.github.com/users/seisman/following{/other_user}",
                "gists_url": "https://api.github.com/users/seisman/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/seisman",
                "id": 3974108,
                "login": "seisman",
                "node_id": "MDQ6VXNlcjM5NzQxMDg=",
                "organizations_url": "https://api.github.com/users/seisman/orgs",
                "received_events_url": "https://api.github.com/users/seisman/received_events",
                "repos_url": "https://api.github.com/users/seisman/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/seisman/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/seisman/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/seisman"
            }
        }
    ],
    "comments_url": "https://api.github.com/repos/GenericMappingTools/gmt/issues/3408/comments",
    "created_at": "2020-05-29T15:54:38Z",
    "events_url": "https://api.github.com/repos/GenericMappingTools/gmt/issues/3408/events",
    "html_url": "https://github.com/GenericMappingTools/gmt/issues/3408",
    "id": 627369025,
    "labels": [
        {
            "color": "d73a4a",
            "default": true,
            "description": "Something isn't working",
            "id": 1022239695,
            "name": "bug",
            "node_id": "MDU6TGFiZWwxMDIyMjM5Njk1",
            "url": "https://api.github.com/repos/GenericMappingTools/gmt/labels/bug"
        }
    ],
    "labels_url": "https://api.github.com/repos/GenericMappingTools/gmt/issues/3408/labels{/name}",
    "locked": false,
    "milestone": null,
    "node_id": "MDU6SXNzdWU2MjczNjkwMjU=",
    "number": 3408,
    "performed_via_github_app": null,
    "reactions": {
        "+1": 0,
        "-1": 0,
        "confused": 0,
        "eyes": 0,
        "heart": 0,
        "hooray": 0,
        "laugh": 0,
        "rocket": 0,
        "total_count": 0,
        "url": "https://api.github.com/repos/GenericMappingTools/gmt/issues/3408/reactions"
    },
    "repository_url": "https://api.github.com/repos/GenericMappingTools/gmt",
    "state": "closed",
    "state_reason": "completed",
    "timeline_url": "https://api.github.com/repos/GenericMappingTools/gmt/issues/3408/timeline",
    "title": "grdimage shading fails with external matrix",
    "updated_at": "2020-10-14T22:58:49Z",
    "url": "https://api.github.com/repos/GenericMappingTools/gmt/issues/3408",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/3974108?v=4",
        "events_url": "https://api.github.com/users/seisman/events{/privacy}",
        "followers_url": "https://api.github.com/users/seisman/followers",
        "following_url": "https://api.github.com/users/seisman/following{/other_user}",
        "gists_url": "https://api.github.com/users/seisman/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/seisman",
        "id": 3974108,
        "login": "seisman",
        "node_id": "MDQ6VXNlcjM5NzQxMDg=",
        "organizations_url": "https://api.github.com/users/seisman/orgs",
        "received_events_url": "https://api.github.com/users/seisman/received_events",
        "repos_url": "https://api.github.com/users/seisman/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/seisman/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/seisman/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/seisman"
    }
}