{
    "active_lock_reason": null,
    "assignee": null,
    "assignees": [],
    "author_association": "CONTRIBUTOR",
    "body": "## Description\r\n\r\nhttps://github.com/BlueBrain/Search/pull/242 forgot to change things related to Python 3.6:\r\n\r\nFixes [BBS-299](https://bbpteam.epfl.ch/project/issues/browse/BBS-299).\r\n\r\n### 1 - The minimal required Python version\r\n\r\nhttps://github.com/BlueBrain/Search/blob/fb1e7885961f70c8f4d9174d7200b758ffda1b67/setup.py#L88\r\n\r\nThis causes the installation of BBS to fails on Python 3.6 without a clear idea of the reason.\r\n\r\n`NumPy` 1.20.1 requires Python >= 3.7. No artefacts are published on PyPI for Python 3.6. When installing BBS on Python 3.6, the following strange error is thrown:\r\n\r\n```\r\nERROR: Could not find a version that satisfies the requirement numpy==1.20.1\r\nERROR: No matching distribution found for numpy==1.20.1\r\n```\r\n\r\n### 2 - The installed Python in `base.Dockerfile`\r\n\r\nInstallation of `python3.6-dev`.\r\nMention of `Python 3.6`.\r\nMention of Docker image `python:3.6`.\r\n\r\n### 3 - README\r\n\r\nMention of `Python 3.6`.\r\nMention of Tox environment `py36`.\r\n\r\n## How to test?\r\n\r\n### A - Mentions\r\n\r\nThe command\r\n\r\n```\r\negrep -ri --exclude-dir \"./.*\" '3\\.6|py36' .\r\n```\r\n\r\nshould ONLY return the following\r\n\r\n```\r\n./tests/data/CORD19_samples/biorxiv_medrxiv/biorxiv_medrxiv/pdf_json/9ae476404f7ef1ec1ede965f0b898f31a5bf5a81.json:            \"text\": \"Statistical tests were two-sided with significance set at \\u03b1 less than 0.05. We performed all data analyses by R software version 3.6.2 (R Foundation for Statistical Computing).\",\r\n./data_and_models/pipelines/sentence_embedding/scripts/build.sh:# Tested on Python 3.6.12 with:\r\n./docs/source/whatsnew.rst:- |Remove| support for :code:`Python 3.6`.\r\n```\r\n\r\n### B - base.Dockerfile\r\n\r\nThe following, adapted from the Getting Started, should finish without errors:\r\n\r\n```\r\nexport USER_NAME=$(id -un)\r\nexport USER_ID=$(id -u)\r\n\r\nexport http_proxy=http://bbpproxy.epfl.ch:80/\r\nexport https_proxy=http://bbpproxy.epfl.ch:80/\r\n\r\ngit clone --branch bbs_299 https://github.com/BlueBrain/Search.git\r\n\r\nexport WORKING_DIRECTORY=\"$(pwd)\"\r\nexport REPOSITORY_DIRECTORY=\"$WORKING_DIRECTORY/Search\"\r\n\r\ncd $REPOSITORY_DIRECTORY\r\ndocker build \\\r\n  --build-arg BBS_HTTP_PROXY=$http_proxy \\\r\n  --build-arg BBS_http_proxy=$http_proxy \\\r\n  --build-arg BBS_HTTPS_PROXY=$https_proxy \\\r\n  --build-arg BBS_https_proxy=$https_proxy \\\r\n  --build-arg BBS_USERS=\"$USER_NAME/$USER_ID\" \\\r\n  -f docker/base.Dockerfile -t test_bbs_base_${USER_NAME} .\r\n\r\ndocker run \\\r\n  --volume /raid:/raid \\\r\n  --env REPOSITORY_DIRECTORY \\\r\n  --gpus all \\\r\n  --interactive \\\r\n  --tty \\\r\n  --rm \\\r\n  --user \"$USER_NAME\" \\\r\n  --name test_bbs_base_${USER_NAME} test_bbs_base_${USER_NAME}\r\n\r\ncd $REPOSITORY_DIRECTORY\r\n\r\npip install .\r\n```\r\n\r\n## Checklist:\r\n\r\n- [x] This PR refers to an issue present in the [issue tracker](https://github.com/BlueBrain/Search/issues).\r\n- [x] `setup.py` and `requirements.txt` updated with new dependencies.\r\n- [x] Travis CI pipeline run.",
    "closed_at": "2021-02-25T17:49:05Z",
    "closed_by": {
        "avatar_url": "https://avatars.githubusercontent.com/u/4543376?v=4",
        "events_url": "https://api.github.com/users/pafonta/events{/privacy}",
        "followers_url": "https://api.github.com/users/pafonta/followers",
        "following_url": "https://api.github.com/users/pafonta/following{/other_user}",
        "gists_url": "https://api.github.com/users/pafonta/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/pafonta",
        "id": 4543376,
        "login": "pafonta",
        "node_id": "MDQ6VXNlcjQ1NDMzNzY=",
        "organizations_url": "https://api.github.com/users/pafonta/orgs",
        "received_events_url": "https://api.github.com/users/pafonta/received_events",
        "repos_url": "https://api.github.com/users/pafonta/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/pafonta/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/pafonta/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/pafonta"
    },
    "comments": 3,
    "comments_content": [
        {
            "author_association": "CONTRIBUTOR",
            "body": "Hello @FrancescoCasalegno !\r\n\r\nI have addressed the other leftovers you have found.",
            "created_at": "2021-02-24T16:01:07Z",
            "html_url": "https://github.com/BlueBrain/Search/pull/255#issuecomment-785180392",
            "id": 785180392,
            "issue_url": "https://api.github.com/repos/BlueBrain/Search/issues/255",
            "node_id": "MDEyOklzc3VlQ29tbWVudDc4NTE4MDM5Mg==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 1,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/BlueBrain/Search/issues/comments/785180392/reactions"
            },
            "updated_at": "2021-02-24T16:01:07Z",
            "url": "https://api.github.com/repos/BlueBrain/Search/issues/comments/785180392",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/4543376?v=4",
                "events_url": "https://api.github.com/users/pafonta/events{/privacy}",
                "followers_url": "https://api.github.com/users/pafonta/followers",
                "following_url": "https://api.github.com/users/pafonta/following{/other_user}",
                "gists_url": "https://api.github.com/users/pafonta/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/pafonta",
                "id": 4543376,
                "login": "pafonta",
                "node_id": "MDQ6VXNlcjQ1NDMzNzY=",
                "organizations_url": "https://api.github.com/users/pafonta/orgs",
                "received_events_url": "https://api.github.com/users/pafonta/received_events",
                "repos_url": "https://api.github.com/users/pafonta/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/pafonta/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/pafonta/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/pafonta"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "Hello @EmilieDel and @Stannislav !\r\n\r\nThank you for your first review. Since I have addressed the points rose by @FrancescoCasalegno, the PR needs a new review.\r\n\r\nIndeed, the installation of Python in `base.Dockerfile` needed to be migrated from 3.6 to 3.7. There was a trick around how to install `pip` for Python 3.7. I have left explanations in the `Dockerfile`.\r\n\r\nNow Python 3.7 and pip 3.7 are installed in Docker image `bbs_base`.",
            "created_at": "2021-02-24T16:04:09Z",
            "html_url": "https://github.com/BlueBrain/Search/pull/255#issuecomment-785182687",
            "id": 785182687,
            "issue_url": "https://api.github.com/repos/BlueBrain/Search/issues/255",
            "node_id": "MDEyOklzc3VlQ29tbWVudDc4NTE4MjY4Nw==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/BlueBrain/Search/issues/comments/785182687/reactions"
            },
            "updated_at": "2021-02-24T16:05:02Z",
            "url": "https://api.github.com/repos/BlueBrain/Search/issues/comments/785182687",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/4543376?v=4",
                "events_url": "https://api.github.com/users/pafonta/events{/privacy}",
                "followers_url": "https://api.github.com/users/pafonta/followers",
                "following_url": "https://api.github.com/users/pafonta/following{/other_user}",
                "gists_url": "https://api.github.com/users/pafonta/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/pafonta",
                "id": 4543376,
                "login": "pafonta",
                "node_id": "MDQ6VXNlcjQ1NDMzNzY=",
                "organizations_url": "https://api.github.com/users/pafonta/orgs",
                "received_events_url": "https://api.github.com/users/pafonta/received_events",
                "repos_url": "https://api.github.com/users/pafonta/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/pafonta/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/pafonta/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/pafonta"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "NB: A detailed list of changes and instructions on how to test can be found in the PR's description.",
            "created_at": "2021-02-24T16:06:50Z",
            "html_url": "https://github.com/BlueBrain/Search/pull/255#issuecomment-785184623",
            "id": 785184623,
            "issue_url": "https://api.github.com/repos/BlueBrain/Search/issues/255",
            "node_id": "MDEyOklzc3VlQ29tbWVudDc4NTE4NDYyMw==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/BlueBrain/Search/issues/comments/785184623/reactions"
            },
            "updated_at": "2021-02-24T16:06:50Z",
            "url": "https://api.github.com/repos/BlueBrain/Search/issues/comments/785184623",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/4543376?v=4",
                "events_url": "https://api.github.com/users/pafonta/events{/privacy}",
                "followers_url": "https://api.github.com/users/pafonta/followers",
                "following_url": "https://api.github.com/users/pafonta/following{/other_user}",
                "gists_url": "https://api.github.com/users/pafonta/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/pafonta",
                "id": 4543376,
                "login": "pafonta",
                "node_id": "MDQ6VXNlcjQ1NDMzNzY=",
                "organizations_url": "https://api.github.com/users/pafonta/orgs",
                "received_events_url": "https://api.github.com/users/pafonta/received_events",
                "repos_url": "https://api.github.com/users/pafonta/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/pafonta/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/pafonta/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/pafonta"
            }
        }
    ],
    "comments_url": "https://api.github.com/repos/BlueBrain/Search/issues/255/comments",
    "created_at": "2021-02-23T13:53:00Z",
    "draft": false,
    "events_url": "https://api.github.com/repos/BlueBrain/Search/issues/255/events",
    "html_url": "https://github.com/BlueBrain/Search/pull/255",
    "id": 814484842,
    "labels": [
        {
            "color": "d73a4a",
            "default": false,
            "description": "Something isn't working",
            "id": 1938483675,
            "name": "\ud83d\udc1b bug fix",
            "node_id": "MDU6TGFiZWwxOTM4NDgzNjc1",
            "url": "https://api.github.com/repos/BlueBrain/Search/labels/%F0%9F%90%9B%20bug%20fix"
        }
    ],
    "labels_url": "https://api.github.com/repos/BlueBrain/Search/issues/255/labels{/name}",
    "locked": false,
    "milestone": null,
    "node_id": "MDExOlB1bGxSZXF1ZXN0NTc4NDY1OTc4",
    "number": 255,
    "performed_via_github_app": null,
    "pull_request": {
        "diff_url": "https://github.com/BlueBrain/Search/pull/255.diff",
        "html_url": "https://github.com/BlueBrain/Search/pull/255",
        "merged_at": "2021-02-25T17:49:05Z",
        "patch_url": "https://github.com/BlueBrain/Search/pull/255.patch",
        "url": "https://api.github.com/repos/BlueBrain/Search/pulls/255"
    },
    "reactions": {
        "+1": 0,
        "-1": 0,
        "confused": 0,
        "eyes": 0,
        "heart": 0,
        "hooray": 0,
        "laugh": 0,
        "rocket": 0,
        "total_count": 0,
        "url": "https://api.github.com/repos/BlueBrain/Search/issues/255/reactions"
    },
    "repository_url": "https://api.github.com/repos/BlueBrain/Search",
    "state": "closed",
    "state_reason": null,
    "timeline_url": "https://api.github.com/repos/BlueBrain/Search/issues/255/timeline",
    "title": "[BBS-299] Fix leftovers from dropping Python 3.6",
    "updated_at": "2021-02-25T17:49:08Z",
    "url": "https://api.github.com/repos/BlueBrain/Search/issues/255",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/4543376?v=4",
        "events_url": "https://api.github.com/users/pafonta/events{/privacy}",
        "followers_url": "https://api.github.com/users/pafonta/followers",
        "following_url": "https://api.github.com/users/pafonta/following{/other_user}",
        "gists_url": "https://api.github.com/users/pafonta/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/pafonta",
        "id": 4543376,
        "login": "pafonta",
        "node_id": "MDQ6VXNlcjQ1NDMzNzY=",
        "organizations_url": "https://api.github.com/users/pafonta/orgs",
        "received_events_url": "https://api.github.com/users/pafonta/received_events",
        "repos_url": "https://api.github.com/users/pafonta/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/pafonta/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/pafonta/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/pafonta"
    }
}