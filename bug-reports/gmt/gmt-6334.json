{
    "active_lock_reason": null,
    "assignee": {
        "avatar_url": "https://avatars.githubusercontent.com/u/26473567?v=4",
        "events_url": "https://api.github.com/users/PaulWessel/events{/privacy}",
        "followers_url": "https://api.github.com/users/PaulWessel/followers",
        "following_url": "https://api.github.com/users/PaulWessel/following{/other_user}",
        "gists_url": "https://api.github.com/users/PaulWessel/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/PaulWessel",
        "id": 26473567,
        "login": "PaulWessel",
        "node_id": "MDQ6VXNlcjI2NDczNTY3",
        "organizations_url": "https://api.github.com/users/PaulWessel/orgs",
        "received_events_url": "https://api.github.com/users/PaulWessel/received_events",
        "repos_url": "https://api.github.com/users/PaulWessel/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/PaulWessel/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/PaulWessel/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/PaulWessel"
    },
    "assignees": [
        {
            "avatar_url": "https://avatars.githubusercontent.com/u/26473567?v=4",
            "events_url": "https://api.github.com/users/PaulWessel/events{/privacy}",
            "followers_url": "https://api.github.com/users/PaulWessel/followers",
            "following_url": "https://api.github.com/users/PaulWessel/following{/other_user}",
            "gists_url": "https://api.github.com/users/PaulWessel/gists{/gist_id}",
            "gravatar_id": "",
            "html_url": "https://github.com/PaulWessel",
            "id": 26473567,
            "login": "PaulWessel",
            "node_id": "MDQ6VXNlcjI2NDczNTY3",
            "organizations_url": "https://api.github.com/users/PaulWessel/orgs",
            "received_events_url": "https://api.github.com/users/PaulWessel/received_events",
            "repos_url": "https://api.github.com/users/PaulWessel/repos",
            "site_admin": false,
            "starred_url": "https://api.github.com/users/PaulWessel/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/PaulWessel/subscriptions",
            "type": "User",
            "url": "https://api.github.com/users/PaulWessel"
        }
    ],
    "author_association": "MEMBER",
    "body": "This follows up on problem #6306.  Some context: We use Schewchuck's **triangle** library to solve for Delaunay triangulation.  One option is to get Voronoi polygons.  The library returns two sets of information:\r\n\r\n1. List of point coordinates for known nodes on the Voronoi boundaries\r\n2. List of edges given as point _i_ to point _j_ in the point coordinate list\r\n\r\nIn many cases, _j_ is -1 meaning an infinite ray starting at point _i_.  Module **triangulate** uses that information and the given **-R** to determine intersections with the boundary, thus replacing point _j_ with a new computed point on the boundary we add to the point list, and we also add the coordinates of the four corners of w/e/s/n to the list.  Finally, we assemble polygons via the box outline.  This seems all well and good in principle.\r\n\r\nHowever, the problem that lead to some crashes (and why **-Qn** is labeled as experimental [or temperamental...]) seems to be any specification of w/e/s/n that are _smaller_ than the domain defined by the Voronoi points returned. Note that these may lay outside the range of the input data.  Having a start point for an infinite ray being _outside_ the w/e/s/n is no good.  In the end I found two bugs:\r\n\r\n- Bug 1 was to simply skip Voronoi points outside the region but that completely misses numerous polygons.\r\n- Bug 2 had to do with the ray intersection going wrong since it was assumed the starting point was inside w/e/s/n.\r\n\r\nThis PR hopefully fixes both bugs by (1) not skipping any of the Voronoi points and (2) adjusting the w/e/s/n outward as needed to contain all the critical points.  This seems to work well.  A future PR may come back and impose the original w/e/s/n and clip the polygons since some of their outer boundary will change.  Also, I plan to add some checks so that **triangulate** is not used on global data sets and regions (there is **sphtriangulate** for spherical Delaney and Voronoi construction).\r\n",
    "closed_at": "2022-02-13T21:33:24Z",
    "closed_by": {
        "avatar_url": "https://avatars.githubusercontent.com/u/26473567?v=4",
        "events_url": "https://api.github.com/users/PaulWessel/events{/privacy}",
        "followers_url": "https://api.github.com/users/PaulWessel/followers",
        "following_url": "https://api.github.com/users/PaulWessel/following{/other_user}",
        "gists_url": "https://api.github.com/users/PaulWessel/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/PaulWessel",
        "id": 26473567,
        "login": "PaulWessel",
        "node_id": "MDQ6VXNlcjI2NDczNTY3",
        "organizations_url": "https://api.github.com/users/PaulWessel/orgs",
        "received_events_url": "https://api.github.com/users/PaulWessel/received_events",
        "repos_url": "https://api.github.com/users/PaulWessel/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/PaulWessel/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/PaulWessel/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/PaulWessel"
    },
    "comments": 3,
    "comments_content": [
        {
            "author_association": "MEMBER",
            "body": "Do you think I should spend time adding the \"clip polygons to original -R\"? I can see doing this via functions we have for clipping polygons in gmt_map.c for plotting purposes...",
            "created_at": "2022-02-13T20:53:45Z",
            "html_url": "https://github.com/GenericMappingTools/gmt/pull/6334#issuecomment-1038421873",
            "id": 1038421873,
            "issue_url": "https://api.github.com/repos/GenericMappingTools/gmt/issues/6334",
            "node_id": "IC_kwDOCJzWHc495Q9x",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/GenericMappingTools/gmt/issues/comments/1038421873/reactions"
            },
            "updated_at": "2022-02-13T20:53:45Z",
            "url": "https://api.github.com/repos/GenericMappingTools/gmt/issues/comments/1038421873",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/26473567?v=4",
                "events_url": "https://api.github.com/users/PaulWessel/events{/privacy}",
                "followers_url": "https://api.github.com/users/PaulWessel/followers",
                "following_url": "https://api.github.com/users/PaulWessel/following{/other_user}",
                "gists_url": "https://api.github.com/users/PaulWessel/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/PaulWessel",
                "id": 26473567,
                "login": "PaulWessel",
                "node_id": "MDQ6VXNlcjI2NDczNTY3",
                "organizations_url": "https://api.github.com/users/PaulWessel/orgs",
                "received_events_url": "https://api.github.com/users/PaulWessel/received_events",
                "repos_url": "https://api.github.com/users/PaulWessel/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/PaulWessel/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/PaulWessel/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/PaulWessel"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "I already added doc update in master that says triangulate is meant for Cartesian or small-area geographic that does not involve periodic data or poles.",
            "created_at": "2022-02-13T20:56:44Z",
            "html_url": "https://github.com/GenericMappingTools/gmt/pull/6334#issuecomment-1038423698",
            "id": 1038423698,
            "issue_url": "https://api.github.com/repos/GenericMappingTools/gmt/issues/6334",
            "node_id": "IC_kwDOCJzWHc495RaS",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/GenericMappingTools/gmt/issues/comments/1038423698/reactions"
            },
            "updated_at": "2022-02-13T20:56:44Z",
            "url": "https://api.github.com/repos/GenericMappingTools/gmt/issues/comments/1038423698",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/26473567?v=4",
                "events_url": "https://api.github.com/users/PaulWessel/events{/privacy}",
                "followers_url": "https://api.github.com/users/PaulWessel/followers",
                "following_url": "https://api.github.com/users/PaulWessel/following{/other_user}",
                "gists_url": "https://api.github.com/users/PaulWessel/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/PaulWessel",
                "id": 26473567,
                "login": "PaulWessel",
                "node_id": "MDQ6VXNlcjI2NDczNTY3",
                "organizations_url": "https://api.github.com/users/PaulWessel/orgs",
                "received_events_url": "https://api.github.com/users/PaulWessel/received_events",
                "repos_url": "https://api.github.com/users/PaulWessel/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/PaulWessel/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/PaulWessel/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/PaulWessel"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "Don't know. I really don't know what are the use cases for these Voronoi polygons and if someone would really need them to be closed by the exact specified -R.",
            "created_at": "2022-02-13T21:06:57Z",
            "html_url": "https://github.com/GenericMappingTools/gmt/pull/6334#issuecomment-1038429462",
            "id": 1038429462,
            "issue_url": "https://api.github.com/repos/GenericMappingTools/gmt/issues/6334",
            "node_id": "IC_kwDOCJzWHc495S0W",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/GenericMappingTools/gmt/issues/comments/1038429462/reactions"
            },
            "updated_at": "2022-02-13T21:06:57Z",
            "url": "https://api.github.com/repos/GenericMappingTools/gmt/issues/comments/1038429462",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/537321?v=4",
                "events_url": "https://api.github.com/users/joa-quim/events{/privacy}",
                "followers_url": "https://api.github.com/users/joa-quim/followers",
                "following_url": "https://api.github.com/users/joa-quim/following{/other_user}",
                "gists_url": "https://api.github.com/users/joa-quim/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/joa-quim",
                "id": 537321,
                "login": "joa-quim",
                "node_id": "MDQ6VXNlcjUzNzMyMQ==",
                "organizations_url": "https://api.github.com/users/joa-quim/orgs",
                "received_events_url": "https://api.github.com/users/joa-quim/received_events",
                "repos_url": "https://api.github.com/users/joa-quim/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/joa-quim/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/joa-quim/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/joa-quim"
            }
        }
    ],
    "comments_url": "https://api.github.com/repos/GenericMappingTools/gmt/issues/6334/comments",
    "created_at": "2022-02-13T01:12:23Z",
    "draft": false,
    "events_url": "https://api.github.com/repos/GenericMappingTools/gmt/issues/6334/events",
    "html_url": "https://github.com/GenericMappingTools/gmt/pull/6334",
    "id": 1134920045,
    "labels": [
        {
            "color": "d73a4a",
            "default": true,
            "description": "Something isn't working",
            "id": 1022239695,
            "name": "bug",
            "node_id": "MDU6TGFiZWwxMDIyMjM5Njk1",
            "url": "https://api.github.com/repos/GenericMappingTools/gmt/labels/bug"
        }
    ],
    "labels_url": "https://api.github.com/repos/GenericMappingTools/gmt/issues/6334/labels{/name}",
    "locked": false,
    "milestone": null,
    "node_id": "PR_kwDOCJzWHc4ypyaJ",
    "number": 6334,
    "performed_via_github_app": null,
    "pull_request": {
        "diff_url": "https://github.com/GenericMappingTools/gmt/pull/6334.diff",
        "html_url": "https://github.com/GenericMappingTools/gmt/pull/6334",
        "merged_at": "2022-02-13T21:33:24Z",
        "patch_url": "https://github.com/GenericMappingTools/gmt/pull/6334.patch",
        "url": "https://api.github.com/repos/GenericMappingTools/gmt/pulls/6334"
    },
    "reactions": {
        "+1": 0,
        "-1": 0,
        "confused": 0,
        "eyes": 0,
        "heart": 0,
        "hooray": 0,
        "laugh": 0,
        "rocket": 0,
        "total_count": 0,
        "url": "https://api.github.com/repos/GenericMappingTools/gmt/issues/6334/reactions"
    },
    "repository_url": "https://api.github.com/repos/GenericMappingTools/gmt",
    "state": "closed",
    "state_reason": null,
    "timeline_url": "https://api.github.com/repos/GenericMappingTools/gmt/issues/6334/timeline",
    "title": "Addressing Voronoi polygons in triangulate -Qn",
    "updated_at": "2022-06-28T09:07:30Z",
    "url": "https://api.github.com/repos/GenericMappingTools/gmt/issues/6334",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/26473567?v=4",
        "events_url": "https://api.github.com/users/PaulWessel/events{/privacy}",
        "followers_url": "https://api.github.com/users/PaulWessel/followers",
        "following_url": "https://api.github.com/users/PaulWessel/following{/other_user}",
        "gists_url": "https://api.github.com/users/PaulWessel/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/PaulWessel",
        "id": 26473567,
        "login": "PaulWessel",
        "node_id": "MDQ6VXNlcjI2NDczNTY3",
        "organizations_url": "https://api.github.com/users/PaulWessel/orgs",
        "received_events_url": "https://api.github.com/users/PaulWessel/received_events",
        "repos_url": "https://api.github.com/users/PaulWessel/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/PaulWessel/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/PaulWessel/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/PaulWessel"
    }
}