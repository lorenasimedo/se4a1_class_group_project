{
    "active_lock_reason": null,
    "assignee": {
        "avatar_url": "https://avatars.githubusercontent.com/u/14077947?v=4",
        "events_url": "https://api.github.com/users/maxrjones/events{/privacy}",
        "followers_url": "https://api.github.com/users/maxrjones/followers",
        "following_url": "https://api.github.com/users/maxrjones/following{/other_user}",
        "gists_url": "https://api.github.com/users/maxrjones/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/maxrjones",
        "id": 14077947,
        "login": "maxrjones",
        "node_id": "MDQ6VXNlcjE0MDc3OTQ3",
        "organizations_url": "https://api.github.com/users/maxrjones/orgs",
        "received_events_url": "https://api.github.com/users/maxrjones/received_events",
        "repos_url": "https://api.github.com/users/maxrjones/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/maxrjones/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/maxrjones/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/maxrjones"
    },
    "assignees": [
        {
            "avatar_url": "https://avatars.githubusercontent.com/u/14077947?v=4",
            "events_url": "https://api.github.com/users/maxrjones/events{/privacy}",
            "followers_url": "https://api.github.com/users/maxrjones/followers",
            "following_url": "https://api.github.com/users/maxrjones/following{/other_user}",
            "gists_url": "https://api.github.com/users/maxrjones/gists{/gist_id}",
            "gravatar_id": "",
            "html_url": "https://github.com/maxrjones",
            "id": 14077947,
            "login": "maxrjones",
            "node_id": "MDQ6VXNlcjE0MDc3OTQ3",
            "organizations_url": "https://api.github.com/users/maxrjones/orgs",
            "received_events_url": "https://api.github.com/users/maxrjones/received_events",
            "repos_url": "https://api.github.com/users/maxrjones/repos",
            "site_admin": false,
            "starred_url": "https://api.github.com/users/maxrjones/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/maxrjones/subscriptions",
            "type": "User",
            "url": "https://api.github.com/users/maxrjones"
        }
    ],
    "author_association": "MEMBER",
    "body": "**Description of the problem**\r\n\r\nThe issue was first found in https://github.com/GenericMappingTools/pygmt/pull/1428#discussion_r706820635.\r\n\r\n**Full script that generated the error**\r\n\r\nThe following script works as expected. `-Xw+2c` shifts the plot origin based on the width of the left plot.\r\n```\r\ngmt begin map\r\n    gmt grdimage @earth_relief_01d -B0\r\n    gmt grdimage @earth_relief_01d -B0 -Xw+2c\r\ngmt end show\r\n```\r\n\r\n![map](https://user-images.githubusercontent.com/3974108/133353120-85ced9b0-eabd-4581-84ff-8616f3623f68.png)\r\n\r\nHowever, if we add a colorbar in the left-side plot, `-Xw+2c` no longer works. I guess that calling the `colorbar` command changes the width and height settings in the gmt.history file. Is it intentional? Do we need to save the colorbar width and height?\r\n```\r\ngmt begin map\r\n    gmt grdimage @earth_relief_01d -B0\r\n    gmt colorbar -DJML\r\n    gmt grdimage @earth_relief_01d -B0 -Xw+2c\r\ngmt end show\r\n```\r\n\r\n![map](https://user-images.githubusercontent.com/3974108/133353032-c31a62b6-ebea-4988-97f6-3440b966e3ec.png)",
    "closed_at": "2021-09-23T23:46:17Z",
    "closed_by": {
        "avatar_url": "https://avatars.githubusercontent.com/u/14077947?v=4",
        "events_url": "https://api.github.com/users/maxrjones/events{/privacy}",
        "followers_url": "https://api.github.com/users/maxrjones/followers",
        "following_url": "https://api.github.com/users/maxrjones/following{/other_user}",
        "gists_url": "https://api.github.com/users/maxrjones/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/maxrjones",
        "id": 14077947,
        "login": "maxrjones",
        "node_id": "MDQ6VXNlcjE0MDc3OTQ3",
        "organizations_url": "https://api.github.com/users/maxrjones/orgs",
        "received_events_url": "https://api.github.com/users/maxrjones/received_events",
        "repos_url": "https://api.github.com/users/maxrjones/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/maxrjones/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/maxrjones/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/maxrjones"
    },
    "comments": 2,
    "comments_content": [
        {
            "author_association": "MEMBER",
            "body": "I think we have no defense against this.  The w and h shorts for -X -Y is based on the previous plot.  We could possibly ignore embellishment commands (colormap, scale, etc) in this so that it would remember the previous real plot but not sure if that is a great idea in general, but perhaps it is.  We can discuss that.  The modules that take -DJ etc are colorbar, logo, legend, image, and I can see that perhaps colorbar and legend perhaps should not count, a user may very well place a full plot via image, and not sure if very many uses logo.  But even if in the above case we remember that w is the grdimage width, if the user did -DJMR then it still would fail since we would have to add even further to the right...\r\n\r\nSo perhaps best is to clarify the scope of w and h in the documentation so there are no surprises?",
            "created_at": "2021-09-15T01:28:58Z",
            "html_url": "https://github.com/GenericMappingTools/gmt/issues/5761#issuecomment-919626224",
            "id": 919626224,
            "issue_url": "https://api.github.com/repos/GenericMappingTools/gmt/issues/5761",
            "node_id": "IC_kwDOCJzWHc420GHw",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/GenericMappingTools/gmt/issues/comments/919626224/reactions"
            },
            "updated_at": "2021-09-15T01:28:58Z",
            "url": "https://api.github.com/repos/GenericMappingTools/gmt/issues/comments/919626224",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/26473567?v=4",
                "events_url": "https://api.github.com/users/PaulWessel/events{/privacy}",
                "followers_url": "https://api.github.com/users/PaulWessel/followers",
                "following_url": "https://api.github.com/users/PaulWessel/following{/other_user}",
                "gists_url": "https://api.github.com/users/PaulWessel/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/PaulWessel",
                "id": 26473567,
                "login": "PaulWessel",
                "node_id": "MDQ6VXNlcjI2NDczNTY3",
                "organizations_url": "https://api.github.com/users/PaulWessel/orgs",
                "received_events_url": "https://api.github.com/users/PaulWessel/received_events",
                "repos_url": "https://api.github.com/users/PaulWessel/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/PaulWessel/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/PaulWessel/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/PaulWessel"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "I'll update the documentation for w and h based on the interpretation that we can't adjust for this case in the code.",
            "created_at": "2021-09-22T20:38:13Z",
            "html_url": "https://github.com/GenericMappingTools/gmt/issues/5761#issuecomment-925311792",
            "id": 925311792,
            "issue_url": "https://api.github.com/repos/GenericMappingTools/gmt/issues/5761",
            "node_id": "IC_kwDOCJzWHc43JyMw",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 1,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/GenericMappingTools/gmt/issues/comments/925311792/reactions"
            },
            "updated_at": "2021-09-22T20:38:13Z",
            "url": "https://api.github.com/repos/GenericMappingTools/gmt/issues/comments/925311792",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/14077947?v=4",
                "events_url": "https://api.github.com/users/maxrjones/events{/privacy}",
                "followers_url": "https://api.github.com/users/maxrjones/followers",
                "following_url": "https://api.github.com/users/maxrjones/following{/other_user}",
                "gists_url": "https://api.github.com/users/maxrjones/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/maxrjones",
                "id": 14077947,
                "login": "maxrjones",
                "node_id": "MDQ6VXNlcjE0MDc3OTQ3",
                "organizations_url": "https://api.github.com/users/maxrjones/orgs",
                "received_events_url": "https://api.github.com/users/maxrjones/received_events",
                "repos_url": "https://api.github.com/users/maxrjones/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/maxrjones/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/maxrjones/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/maxrjones"
            }
        }
    ],
    "comments_url": "https://api.github.com/repos/GenericMappingTools/gmt/issues/5761/comments",
    "created_at": "2021-09-15T01:00:58Z",
    "events_url": "https://api.github.com/repos/GenericMappingTools/gmt/issues/5761/events",
    "html_url": "https://github.com/GenericMappingTools/gmt/issues/5761",
    "id": 996556200,
    "labels": [
        {
            "color": "d73a4a",
            "default": true,
            "description": "Something isn't working",
            "id": 1022239695,
            "name": "bug",
            "node_id": "MDU6TGFiZWwxMDIyMjM5Njk1",
            "url": "https://api.github.com/repos/GenericMappingTools/gmt/labels/bug"
        }
    ],
    "labels_url": "https://api.github.com/repos/GenericMappingTools/gmt/issues/5761/labels{/name}",
    "locked": false,
    "milestone": null,
    "node_id": "I_kwDOCJzWHc47Zj2o",
    "number": 5761,
    "performed_via_github_app": null,
    "reactions": {
        "+1": 0,
        "-1": 0,
        "confused": 0,
        "eyes": 0,
        "heart": 0,
        "hooray": 0,
        "laugh": 0,
        "rocket": 0,
        "total_count": 0,
        "url": "https://api.github.com/repos/GenericMappingTools/gmt/issues/5761/reactions"
    },
    "repository_url": "https://api.github.com/repos/GenericMappingTools/gmt",
    "state": "closed",
    "state_reason": "completed",
    "timeline_url": "https://api.github.com/repos/GenericMappingTools/gmt/issues/5761/timeline",
    "title": "Adding colorbar changes the width and height history",
    "updated_at": "2022-06-28T09:06:57Z",
    "url": "https://api.github.com/repos/GenericMappingTools/gmt/issues/5761",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/3974108?v=4",
        "events_url": "https://api.github.com/users/seisman/events{/privacy}",
        "followers_url": "https://api.github.com/users/seisman/followers",
        "following_url": "https://api.github.com/users/seisman/following{/other_user}",
        "gists_url": "https://api.github.com/users/seisman/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/seisman",
        "id": 3974108,
        "login": "seisman",
        "node_id": "MDQ6VXNlcjM5NzQxMDg=",
        "organizations_url": "https://api.github.com/users/seisman/orgs",
        "received_events_url": "https://api.github.com/users/seisman/received_events",
        "repos_url": "https://api.github.com/users/seisman/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/seisman/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/seisman/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/seisman"
    }
}