{
    "active_lock_reason": null,
    "assignee": null,
    "assignees": [],
    "author_association": "MEMBER",
    "body": "**Description of proposed changes**\r\n\r\nTo plot beachballs, we first need to determine positions of nodal lines in the Earth coordinate systems. The nodal lines may be split into at most 3 segments, due to the existence of gaps in azimuth.\r\n\r\nThe figure below uses the focal mechanism reported in #4225. The segments of the nodal line are coded by different colors. The old codes incorrectly find a gap between the last red point and the first blue point, and then break the line into two segments. The issue only happens when the nodal line crosses the center of the beachball. The new codes fix the problem by checking that the takeoff angle far away from the beachball boundary.\r\n\r\n| Old | New |\r\n|---|---|\r\n|![image](https://user-images.githubusercontent.com/3974108/95487388-412f5c80-0962-11eb-9a2c-5afa31faa94b.png)| ![image](https://user-images.githubusercontent.com/3974108/95487169-f57cb300-0961-11eb-8be5-f28c1d04a1e0.png)|\r\n\r\nThis PR fixes #2397 and fixes #4225. I add a new test. All tests still pass.",
    "closed_at": "2020-10-08T17:37:44Z",
    "closed_by": {
        "avatar_url": "https://avatars.githubusercontent.com/u/3974108?v=4",
        "events_url": "https://api.github.com/users/seisman/events{/privacy}",
        "followers_url": "https://api.github.com/users/seisman/followers",
        "following_url": "https://api.github.com/users/seisman/following{/other_user}",
        "gists_url": "https://api.github.com/users/seisman/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/seisman",
        "id": 3974108,
        "login": "seisman",
        "node_id": "MDQ6VXNlcjM5NzQxMDg=",
        "organizations_url": "https://api.github.com/users/seisman/orgs",
        "received_events_url": "https://api.github.com/users/seisman/received_events",
        "repos_url": "https://api.github.com/users/seisman/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/seisman/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/seisman/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/seisman"
    },
    "comments": 1,
    "comments_content": [
        {
            "author_association": "MEMBER",
            "body": "> Tee `assert` is C function. It should work everywhere. Now, and I don't remember which, it's not activated in debug builds (or the other way around).\r\n\r\nYes, you're right. `assert` works for **debug** build but **NOT** for **release** build. I believe this is not what we want, right?",
            "created_at": "2020-10-08T17:41:45Z",
            "html_url": "https://github.com/GenericMappingTools/gmt/pull/4300#issuecomment-705722790",
            "id": 705722790,
            "issue_url": "https://api.github.com/repos/GenericMappingTools/gmt/issues/4300",
            "node_id": "MDEyOklzc3VlQ29tbWVudDcwNTcyMjc5MA==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/GenericMappingTools/gmt/issues/comments/705722790/reactions"
            },
            "updated_at": "2020-10-08T17:41:45Z",
            "url": "https://api.github.com/repos/GenericMappingTools/gmt/issues/comments/705722790",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/3974108?v=4",
                "events_url": "https://api.github.com/users/seisman/events{/privacy}",
                "followers_url": "https://api.github.com/users/seisman/followers",
                "following_url": "https://api.github.com/users/seisman/following{/other_user}",
                "gists_url": "https://api.github.com/users/seisman/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/seisman",
                "id": 3974108,
                "login": "seisman",
                "node_id": "MDQ6VXNlcjM5NzQxMDg=",
                "organizations_url": "https://api.github.com/users/seisman/orgs",
                "received_events_url": "https://api.github.com/users/seisman/received_events",
                "repos_url": "https://api.github.com/users/seisman/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/seisman/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/seisman/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/seisman"
            }
        }
    ],
    "comments_url": "https://api.github.com/repos/GenericMappingTools/gmt/issues/4300/comments",
    "created_at": "2020-10-08T16:24:53Z",
    "draft": false,
    "events_url": "https://api.github.com/repos/GenericMappingTools/gmt/issues/4300/events",
    "html_url": "https://github.com/GenericMappingTools/gmt/pull/4300",
    "id": 717490091,
    "labels": [
        {
            "color": "d73a4a",
            "default": true,
            "description": "Something isn't working",
            "id": 1022239695,
            "name": "bug",
            "node_id": "MDU6TGFiZWwxMDIyMjM5Njk1",
            "url": "https://api.github.com/repos/GenericMappingTools/gmt/labels/bug"
        }
    ],
    "labels_url": "https://api.github.com/repos/GenericMappingTools/gmt/issues/4300/labels{/name}",
    "locked": false,
    "milestone": null,
    "node_id": "MDExOlB1bGxSZXF1ZXN0NTAwMDQzNDQy",
    "number": 4300,
    "performed_via_github_app": null,
    "pull_request": {
        "diff_url": "https://github.com/GenericMappingTools/gmt/pull/4300.diff",
        "html_url": "https://github.com/GenericMappingTools/gmt/pull/4300",
        "merged_at": "2020-10-08T17:37:44Z",
        "patch_url": "https://github.com/GenericMappingTools/gmt/pull/4300.patch",
        "url": "https://api.github.com/repos/GenericMappingTools/gmt/pulls/4300"
    },
    "reactions": {
        "+1": 0,
        "-1": 0,
        "confused": 0,
        "eyes": 0,
        "heart": 0,
        "hooray": 0,
        "laugh": 0,
        "rocket": 0,
        "total_count": 0,
        "url": "https://api.github.com/repos/GenericMappingTools/gmt/issues/4300/reactions"
    },
    "repository_url": "https://api.github.com/repos/GenericMappingTools/gmt",
    "state": "closed",
    "state_reason": null,
    "timeline_url": "https://api.github.com/repos/GenericMappingTools/gmt/issues/4300/timeline",
    "title": "meca: Fix plotting of beachballs whose nodal lines cross the center",
    "updated_at": "2020-10-08T17:41:46Z",
    "url": "https://api.github.com/repos/GenericMappingTools/gmt/issues/4300",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/3974108?v=4",
        "events_url": "https://api.github.com/users/seisman/events{/privacy}",
        "followers_url": "https://api.github.com/users/seisman/followers",
        "following_url": "https://api.github.com/users/seisman/following{/other_user}",
        "gists_url": "https://api.github.com/users/seisman/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/seisman",
        "id": 3974108,
        "login": "seisman",
        "node_id": "MDQ6VXNlcjM5NzQxMDg=",
        "organizations_url": "https://api.github.com/users/seisman/orgs",
        "received_events_url": "https://api.github.com/users/seisman/received_events",
        "repos_url": "https://api.github.com/users/seisman/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/seisman/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/seisman/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/seisman"
    }
}